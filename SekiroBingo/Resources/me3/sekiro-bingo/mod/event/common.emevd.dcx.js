// ==EMEVD==
// @docs    sekiro-common.emedf.json
// @compress    DCX_KRAK
// @game    Sekiro
// @string    "N:\\NTC\\data\\Param\\event\\common_func.emevd\u0000\u0000\u0000\u0000\u0000\u0000\u0000"
// @linked    [0]
// @version    3.5
// ==/EMEVD==

$Event(0, Default, function() {
    $InitializeEvent(0, 200);
    $InitializeEvent(0, 201);
    $InitializeEvent(0, 203);
    $InitializeEvent(0, 207);
    $InitializeEvent(0, 209);
    $InitializeEvent(0, 230, 8205, 8207, 6230, 8220, 0, 0);
    $InitializeEvent(1, 230, 8208, 0, 6231, 8221, 0, 0);
    $InitializeEvent(2, 230, 6215, 0, 6232, 6076, 6213, 0);
    $InitializeEvent(3, 230, 6217, 0, 6233, 6080, 0, 0);
    $InitializeEvent(4, 230, 6270, 0, 6234, 6062, 6094, 0);
    $InitializeEvent(5, 230, 71110179, 0, 6235, 6084, 0, 0);
    $InitializeEvent(6, 230, 11100006, 0, 6310, 0, 0, 0);
    $InitializeEvent(7, 230, 11100001, 0, 6311, 0, 0, 0);
    $InitializeEvent(8, 230, 11100002, 0, 6312, 0, 0, 0);
    $InitializeEvent(9, 230, 11100003, 0, 6313, 0, 0, 0);
    $InitializeEvent(10, 230, 11100004, 0, 6314, 0, 0, 0);
    $InitializeEvent(11, 230, 11000003, 0, 6320, 0, 0, 0);
    $InitializeEvent(12, 230, 0, 0, 6340, 0, 0, 0);
    $InitializeEvent(13, 230, 9300, 0, 6341, 0, 0, 0);
    $InitializeEvent(14, 230, 9301, 0, 6342, 0, 0, 0);
    $InitializeEvent(0, 250);
    $InitializeEvent(0, 251);
    $InitializeEvent(0, 252);
    $InitializeEvent(0, 253);
    $InitializeEvent(0, 254);
    $InitializeEvent(0, 255);
    $InitializeEvent(0, 256);
    $InitializeEvent(0, 257);
    $InitializeEvent(0, 258);
    $InitializeEvent(0, 259);
    $InitializeEvent(0, 260);
    $InitializeEvent(0, 261);
    $InitializeEvent(0, 262);
    $InitializeEvent(0, 263);
    $InitializeEvent(0, 264);
    $InitializeEvent(0, 265);
    $InitializeEvent(0, 266);
    $InitializeEvent(0, 267);
    $InitializeEvent(0, 268);
    $InitializeEvent(0, 269);
    $InitializeEvent(0, 270);
    $InitializeEvent(0, 271);
    $InitializeEvent(0, 279);
    $InitializeEvent(0, 280);
    $InitializeEvent(0, 281);
    $InitializeEvent(0, 283);
    $InitializeEvent(0, 284);
    $InitializeEvent(0, 285);
    $InitializeEvent(0, 286);
    $InitializeEvent(0, 287);
    $InitializeEvent(0, 288);
    $InitializeEvent(0, 289);
    $InitializeEvent(0, 290);
    $InitializeEvent(0, 299);
    $InitializeEvent(0, 275);
    $InitializeEvent(0, 600);
    $InitializeEvent(0, 610);
    $InitializeEvent(0, 611);
    $InitializeEvent(0, 615);
    $InitializeEvent(0, 616);
    $InitializeEvent(0, 620);
    $InitializeEvent(0, 622);
    $InitializeEvent(0, 623);
    $InitializeEvent(0, 625);
    $InitializeEvent(0, 626);
    $InitializeEvent(0, 628);
    $InitializeEvent(0, 701);
    $InitializeEvent(0, 710);
    $InitializeEvent(0, 711);
    $InitializeEvent(0, 712);
    $InitializeEvent(0, 713);
    $InitializeEvent(0, 714);
    $InitializeEvent(0, 800);
    $InitializeEvent(0, 801);
    $InitializeEvent(0, 810);
    $InitializeEvent(0, 811);
    $InitializeEvent(0, 812);
    $InitializeEvent(0, 830);
    $InitializeEvent(0, 831);
    $InitializeEvent(0, 835);
    $InitializeEvent(0, 802);
    $InitializeEvent(0, 803);
    $InitializeEvent(1, 901);
    $InitializeEvent(0, 910);
    $InitializeEvent(0, 911);
    $InitializeEvent(0, 912);
    $InitializeEvent(0, 920);
    $InitializeEvent(0, 8410, 2400);
    $InitializeEvent(1, 8410, 2502);
    $InitializeEvent(2, 8410, 2501);
    $InitializeEvent(3, 8410, 2500);
    $InitializeEvent(4, 8410, 2503);
    $InitializeEvent(0, 6225, 2920);
    $InitializeEvent(1, 6225, 2921);
    $InitializeEvent(2, 6225, 2922);
    $InitializeEvent(3, 6225, 2923);
    $InitializeEvent(4, 6225, 2924);
    $InitializeEvent(0, 6010);
    $InitializeEvent(0, 6704);
    $InitializeEvent(0, 410);
    $InitializeEvent(0, 130, 11, 2, 9810, ON, -1);
    $InitializeEvent(1, 130, 11, 0, 0, ON, -1);
    $InitializeEvent(2, 130, 10, 0, 0, ON, -1);
    $InitializeEvent(3, 130, 11, 1, 9810, OFF, -1);
    $InitializeEvent(4, 130, 11, 2, 9810, OFF, -1);
    $InitializeEvent(5, 130, 13, 0, 0, ON, -1);
    $InitializeEvent(6, 130, 15, 0, 0, ON, -1);
    $InitializeEvent(7, 130, 17, 0, 0, ON, -1);
    $InitializeEvent(8, 130, 20, 0, 0, ON, -1);
    $InitializeEvent(9, 130, 11, 1, 8301, ON, -1);
    $InitializeEvent(10, 130, 25, 0, 0, ON, -1);
    $InitializeEvent(11, 130, 11, 1, 8302, ON, -1);
    $InitializeEvent(12, 130, 11, 2, 8302, ON, -1);
    $InitializeEvent(13, 130, 11, 0, 8302, ON, -1);
    $InitializeEvent(0, 170);
    $InitializeEvent(0, 190);
    $InitializeEvent(1, 300, 9301, 6, 9421, 2000, 0, 2499);
    $InitializeEvent(2, 300, 9302, 6, 9422, 2030, 0, 2499);
    $InitializeEvent(3, 300, 9303, 6, 9423, 2080, 0, 2499);
    $InitializeEvent(4, 300, 9304, 12, 9424, 2010, 0, 2499);
    $InitializeEvent(5, 300, 9405, 2, 9425, 2020, 0, 2499);
    $InitializeEvent(6, 300, 9306, 6, 9426, 2050, 0, 2499);
    $InitializeEvent(7, 300, 9307, 6, 9427, 2015, 0, 2499);
    $InitializeEvent(8, 300, 9308, 6, 9428, 2090, 0, 2499);
    $InitializeEvent(9, 300, 9309, 6, 9429, 2060, 0, 2499);
    $InitializeEvent(10, 300, 9410, 2, 9430, 2070, 0, 2499);
    $InitializeEvent(12, 300, 9312, 6, 9432, 2130, 0, 2499);
    $InitializeEvent(13, 300, 9313, 6, 9433, 2040, 0, 2499);
    $InitializeEvent(14, 300, 9314, 6, 9434, 2200, 0, 2499);
    $InitializeEvent(16, 300, 9316, 6, 9436, 2120, 0, 2499);
    $InitializeEvent(17, 300, 9317, 12, 9437, 2100, 0, 2499);
    $InitializeEvent(0, 450, 6700, ItemType.Goods, 2460, 640);
    $InitializeEvent(1, 450, 6702, ItemType.Goods, 2461, 650);
    $InitializeEvent(2, 450, 6701, ItemType.Goods, 2462, 660);
    $InitializeEvent(3, 450, 6703, ItemType.Goods, 2400, 630);
    $InitializeEvent(4, 450, 6719, ItemType.Goods, 2450, 620);
    $InitializeEvent(5, 450, 6716, ItemType.Goods, 2490, 670);
    $InitializeEvent(0, 460, 6710, 2470, 600);
    $InitializeEvent(1, 460, 6711, 2471, 601);
    $InitializeEvent(2, 460, 6712, 2472, 602);
    $InitializeEvent(3, 460, 6713, 2475, 603);
    $InitializeEvent(4, 460, 6714, 2480, 604);
    $InitializeEvent(5, 460, 6715, 2481, 605);
    $InitializeEvent(0, 470, 9221, 3200);
    $InitializeEvent(1, 470, 9223, 3210);
    $InitializeEvent(2, 470, 9225, 3220);
    $InitializeEvent(0, 6500, 9700, 6500);
    $InitializeEvent(1, 6500, 9710, 6501);
    $InitializeEvent(2, 6500, 9720, 6502);
    $InitializeEvent(3, 6500, 9730, 6503);
    $InitializeEvent(4, 6500, 9740, 6504);
    $InitializeEvent(5, 6500, 9750, 6505);
    $InitializeEvent(6, 6500, 9760, 6506);
    $InitializeEvent(7, 6500, 9770, 6507);
    $InitializeEvent(8, 6500, 9780, 6508);
    $InitializeEvent(9, 6500, 9790, 6509);
    $InitializeEvent(0, 750, 71001000, 6702);
    $InitializeEvent(1, 750, 71001010, 6754);
    $InitializeEvent(2, 750, 71001020, 6757);
    $InitializeEvent(3, 750, 71101000, 6501);
    $InitializeEvent(4, 750, 71101210, 6721);
    $InitializeEvent(5, 750, 71101400, 6741);
    $InitializeEvent(6, 750, 71101800, 6752);
    $InitializeEvent(7, 750, 71102000, 6722);
    $InitializeEvent(8, 750, 71111000, 6768);
    $InitializeEvent(9, 750, 71111010, 6759);
    $InitializeEvent(10, 750, 71111500, 6506);
    $InitializeEvent(11, 750, 71111510, 6719);
    $InitializeEvent(12, 750, 71501000, 6755);
    $InitializeEvent(13, 750, 71701000, 6753);
    $InitializeEvent(14, 750, 72001000, 6756);
    $InitializeEvent(15, 750, 72501000, 6758);
    $InitializeEvent(16, 750, 71102200, 6719);
    $InitializeEvent(17, 750, 71102210, 6766);
    $InitializeEvent(18, 750, 71102220, 6767);
    $InitializeEvent(19, 750, 71102230, 6500);
    $InitializeEvent(20, 750, 71102240, 6508);
    $InitializeEvent(21, 750, 71102250, 6723);
    $InitializeEvent(22, 750, 71102260, 6741);
    $InitializeEvent(23, 750, 71102270, 6760);
    $InitializeEvent(24, 750, 71102280, 6762);
    $InitializeEvent(25, 750, 71102290, 6769);
    $InitializeEvent(26, 750, 71102300, 6501);
    $InitializeEvent(27, 750, 71102310, 6721);
    $InitializeEvent(28, 750, 71102320, 6768);
    $InitializeEvent(29, 750, 71102330, 6759);
    $InitializeEvent(30, 750, 71102340, 6506);
    $InitializeEvent(31, 750, 71102350, 6780);
    $InitializeEvent(0, 720, 6766, 9021, 8301, -1);
    $InitializeEvent(1, 720, 6767, 9022, 8301, -1);
    $InitializeEvent(2, 720, 6500, 9023, 8302, -1);
    $InitializeEvent(3, 720, 6508, 9024, 8302, -1);
    $InitializeEvent(4, 720, 6723, 9025, 8302, -1);
    $InitializeEvent(5, 720, 6760, 9027, 8302, -1);
    $InitializeEvent(6, 720, 6762, 9028, 8302, -1);
    $InitializeEvent(7, 720, 6769, 9029, 8302, -1);
    $InitializeEvent(8, 720, 6501, 9030, 1819, 1839);
    $InitializeEvent(9, 720, 6721, 9031, 1819, 9010);
    $InitializeEvent(10, 720, 6768, 9032, 1819, 9011);
    $InitializeEvent(11, 720, 6759, 9033, 1819, 9012);
    $InitializeEvent(12, 720, 6506, 9034, 1380, 1399);
    $InitializeEvent(13, 720, 6780, 9035, 8302, -1);
    $InitializeEvent(14, 720, 6721, 9010, 1839, -1);
    $InitializeEvent(15, 720, 6768, 9011, 1859, -1);
    $InitializeEvent(16, 720, 6759, 9012, 1859, -1);
    $InitializeEvent(17, 720, 6755, 9013, 1919, -1);
    $InitializeEvent(18, 720, 6753, 9014, 1879, -1);
    $InitializeEvent(19, 720, 6756, 9015, 1899, -1);
    $InitializeEvent(20, 720, 71102050, 9016, 1939, -1);
    $InitializeEvent(21, 720, 71102060, 9017, 1939, -1);
    $InitializeEvent(22, 720, 71102070, 9018, 1939, -1);
    $InitializeEvent(23, 720, 6719, 9020, 8301, -1);
    $InitializeEvent(24, 720, 6741, 9026, 8302, -1);
    $InitializeEvent(0, 745);
    $InitializeEvent(0, 746);
    $InitializeEvent(0, 747);
    $InitializeEvent(0, 748);
    $InitializeEvent(0, 749);
    $InitializeEvent(0, 9009);
    $InitializeEvent(0, 715, 9040, 6021);
    $InitializeEvent(0, 9900);
    $InitializeEvent(0, 9930, 2);
    $InitializeEvent(0, 9931, 1);
    $InitializeEvent(0, 9932, 3);
    $InitializeEvent(0, 9933, 3);
    $InitializeEvent(0, 9934, 2);
    $InitializeEvent(0, 9940);
    $InitializeEvent(0, 9990);
    $InitializeEvent(0, 9991);
    $InitializeEvent(0, 9992);
    $InitializeEvent(0, 9993);
    $InitializeEvent(0, 8990);
    $InitializeEvent(0, 9000);
    $InitializeEvent(0, 9005);
    $InitializeEvent(0, 9007);
    $InitializeEvent(0, 9004);
    $InitializeEvent(0, 9600, 71300120, 71300121, 11, 0);
    $InitializeEvent(1, 9600, 71300122, 71300123, 20, 0);
    $InitializeEvent(0, 9050);
    $InitializeEvent(0, 9051);
    $InitializeEvent(0, 9052);
    $InitializeEvent(0, 9053);
    $InitializeEvent(0, 9054);
    $InitializeEvent(0, 9055);
    $InitializeEvent(0, 9056);
    $InitializeEvent(0, 9057);
    $InitializeEvent(0, 9058);
    $InitializeEvent(0, 9059);
    $InitializeEvent(0, 9060);
    $InitializeEvent(0, 9061);
    $InitializeEvent(0, 9062);
    $InitializeEvent(0, 9063);
    $InitializeEvent(0, 9064);
    $InitializeEvent(0, 9065);
    $InitializeEvent(0, 9066);
    $InitializeEvent(0, 9950);
    $InitializeEvent(0, 9951);
    $InitializeEvent(0, 9952);
    $InitializeEvent(0, 9953);
    $InitializeEvent(0, 9956);
    $InitializeEvent(0, 9957);
    $InitializeEvent(0, 9958);
    $InitializeEvent(0, 9959);
    $InitializeEvent(0, 9960);
    $InitializeEvent(0, 9961);
    $InitializeEvent(0, 9999);
    if (EventFlag(2300)) {
        SetEventFlag(8306, OFF);
    }
    $InitializeEvent(0, 295);
    $InitializeEvent(0, 296);
    $InitializeEvent(0, 297);
    $InitializeEvent(0, 298);
    $InitializeEvent(0, 11100084);
});

$Event(11100084, Default, function() {
    EndIf(EventFlag(11100084))

    
    const initialEventFlags = [
        11110000, //Ashina Castle
        12500000, //Foundtainhead Palace
        8400, //Activate Monkeys Bell Teleporter
    ];
    
    for (let i = 0; i < initialEventFlags.length; i++) {
        SetEventFlag(initialEventFlags[i], ON);
    }
    
    AwardItemLot(9040); // Giving Father Charm

    SetEventFlag(11100084, ON);    
});

$Event(50, Default, function() {
    if (!EventFlag(9890)) {
        if (!EventFlag(11120100)) {
            SetEventFlag(8306, ON);
        }
    }
    SetEventFlag(6000, OFF);
    SetEventFlag(6001, ON);
    $InitializeEvent(0, 820);
    $InitializeEvent(0, 100);
    $InitializeEvent(0, 6930);
    $InitializeEvent(0, 6930);
    $InitializeEvent(0, 6935);
    $InitializeEvent(0, 700);
    $InitializeEvent(0, 702);
    flag &= EventFlag(6901) && !EventFlag(11120100);
    if (flag) {
        RemoveItemFromPlayer(ItemType.Weapon, 5700, 1);
        RemoveItemFromPlayer(ItemType.Weapon, 7300, 1);
        RemoveItemFromPlayer(ItemType.Goods, 2000, 1);
        RemoveItemFromPlayer(ItemType.Goods, 2300, 1);
        RemoveItemFromPlayer(ItemType.Goods, 2310, 1);
        RemoveItemFromPlayer(ItemType.Goods, 2930, 1);
        RemoveItemFromPlayer(ItemType.Goods, 2400, 1);
        RemoveItemFromPlayer(ItemType.Weapon, 680000, 1);
        RemoveItemFromPlayer(ItemType.Goods, 2500, 1);
        RemoveItemFromPlayer(ItemType.Goods, 2501, 1);
        RemoveItemFromPlayer(ItemType.Goods, 2502, 1);
        RemoveItemFromPlayer(ItemType.Goods, 2503, 1);
        RemoveItemFromPlayer(ItemType.Goods, 3730, 1);
        RemoveItemFromPlayer(ItemType.Goods, 3731, 1);
        RemoveItemFromPlayer(ItemType.Goods, 3732, 1);
        RemoveItemFromPlayer(ItemType.Goods, 3733, 1);
        RemoveItemFromPlayer(ItemType.Goods, 3990, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9000, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9001, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9002, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9003, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9010, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9011, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9012, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9020, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9052, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9070, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9071, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9080, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9081, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9090, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9091, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9181, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9182, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9192, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9193, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9200, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9201, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9202, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9203, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9204, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9205, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9206, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9207, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9208, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9209, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9210, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9211, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9212, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9213, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9214, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9215, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9216, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9219, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9220, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9227, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9228, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9400, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9401, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9402, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9403, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9404, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9405, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9500, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9501, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9502, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9503, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9504, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9510, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9515, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9516, 1);
        RemoveItemFromPlayer(ItemType.Goods, 9560, 1);
        RemoveItemFromPlayer(ItemType.Goods, 12600, 1);
        RemoveItemFromPlayer(ItemType.Goods, 12610, 1);
        RemoveItemFromPlayer(ItemType.Goods, 12620, 1);
        ForcePlayerArmorEquip(ArmorType.Body, 141000);
        ForcePlayerArmorEquip(ArmorType.Arms, 112000);
        if (GameCycle() != 0) {
            SetFlag6910IfGameCompletedOnAnySave();
        }
        if (EventFlag(6752)) {
            SetEventFlag(9006, ON);
        }
        SetEventFlag(6911, OFF);
        ClearSpEffect(10000, 400);
        RemoveItemFromPlayer(ItemType.Goods, 500, 3);
        SetEventFlag(6901, OFF);
        SetEventFlag(9530, OFF);
        SetEventFlag(6204, OFF);
        SetEventFlag(6205, OFF);
        SetEventFlag(6206, OFF);
        SetEventFlag(6207, OFF);
        SetEventFlag(6202, OFF);
        $InitializeEvent(0, 420);
        SetEventFlag(6230, OFF);
        SetEventFlag(6231, OFF);
    }
L0:
    if (!EventFlag(6420)) {
        $InitializeEvent(1, 420);
    }
    $InitializeEvent(0, 411);
    $InitializeEvent(0, 412);
    SetEventFlag(9200, OFF);
    SetEventFlag(9201, OFF);
    SetEventFlag(9202, OFF);
    SetEventFlag(9203, OFF);
    SetEventFlag(9204, OFF);
    SetEventFlag(9205, OFF);
    if (EventFlag(9510)) {
        if (!PlayerIsNotInOwnWorld()) {
            ClearCompiledConditionGroupState(0);
            if (!AnyBatchEventFlags(1000, 1014)) {
                BatchSetNetworkconnectedEventFlags(1000, 1014, OFF);
                SetNetworkconnectedEventFlag(1000, ON);
            }
            ClearCompiledConditionGroupState(0);
            if (!AnyBatchEventFlags(1120, 1134)) {
                BatchSetNetworkconnectedEventFlags(1120, 1134, OFF);
                SetNetworkconnectedEventFlag(1120, ON);
            }
            ClearCompiledConditionGroupState(0);
            if (!AnyBatchEventFlags(1160, 1174)) {
                BatchSetNetworkconnectedEventFlags(1160, 1174, OFF);
                SetNetworkconnectedEventFlag(1160, ON);
            }
            ClearCompiledConditionGroupState(0);
            if (!EventFlag(8310)) {
                if (!AnyBatchEventFlags(1200, 1214)) {
                    BatchSetNetworkconnectedEventFlags(1200, 1214, OFF);
                    SetNetworkconnectedEventFlag(1200, ON);
                }
                if (!AnyBatchEventFlags(71100280, 71100283)) {
                    BatchSetEventFlags(71100280, 71100286, OFF);
                    SetEventFlag(71100280, ON);
                }
                if (EventFlag(1200)
                    && !EventFlag(1219)
                    && !AnyBatchEventFlags(1215, 1216)
                    && EventFlag(72009001)
                    && EventFlag(71100282)
                    && EventFlag(1440)
                    && !AnyBatchEventFlags(1455, 1456)
                    && !EventFlag(1459)) {
                    BatchSetEventFlags(71100280, 71100286, OFF);
                    SetEventFlag(71100283, ON);
                    BatchSetEventFlags(1440, 1454, OFF);
                    SetEventFlag(1441, ON);
                }
                if (!EventFlag(1202) && EventFlag(1239)) {
                    BatchSetEventFlags(1200, 1214, OFF);
                    SetEventFlag(1202, ON);
                    SetEventFlag(1219, ON);
                    if (EventFlag(1441) || EventFlag(1445)) {
                        BatchSetEventFlags(1440, 1454, OFF);
                        SetEventFlag(1447, ON);
                        SetEventFlag(1459, ON);
                    }
                }
L1:
                ClearCompiledConditionGroupState(0);
                if (!AnyBatchEventFlags(1360, 1374)) {
                    BatchSetNetworkconnectedEventFlags(1360, 1374, OFF);
                    SetNetworkconnectedEventFlag(1360, ON);
                }
                if (!EventFlag(1379)) {
                    if (!EventFlag(70002020)) {
                        if (EventFlag(1361) && EventFlag(72000042)) {
                            BatchSetNetworkconnectedEventFlags(1360, 1374, OFF);
                            SetNetworkconnectedEventFlag(1363, ON);
                        }
                    }
                }
L1:
                ClearCompiledConditionGroupState(0);
                if (!AnyBatchEventFlags(1380, 1394)) {
                    BatchSetNetworkconnectedEventFlags(1380, 1394, OFF);
                    SetNetworkconnectedEventFlag(1380, ON);
                }
                if (!EventFlag(1399)) {
                    if (!AnyBatchEventFlags(1395, 1396)) {
                        GotoIf(L0, AnyBatchEventFlags(70002045, 70002049));
                    }
L0:
                    NoOp();
                }
L1:
                ClearCompiledConditionGroupState(0);
                if (!AnyBatchEventFlags(1420, 1434)) {
                    BatchSetNetworkconnectedEventFlags(1420, 1434, OFF);
                    SetNetworkconnectedEventFlag(1427, ON);
                }
                if (!EventFlag(1439)) {
                    if (!EventFlag(70002030)) {
                        if (!EventFlag(71500192)) {
                            if (!EventFlag(1579)) {
                                if (EventFlag(1421) && EventFlag(11500200) && EventFlag(71120150)) {
                                    BatchSetNetworkconnectedEventFlags(1420, 1434, OFF);
                                    SetNetworkconnectedEventFlag(1422, ON);
                                }
                            }
                        }
                    }
                }
L0:
                ClearCompiledConditionGroupState(0);
                if (!AnyBatchEventFlags(1440, 1454)) {
                    BatchSetNetworkconnectedEventFlags(1440, 1454, OFF);
                    SetNetworkconnectedEventFlag(1440, ON);
                }
                if (!EventFlag(1459)) {
                    flag &= EventFlag(1441) && EventFlag(1219);
                    if (flag) {
                        if (EventFlag(70002025)) {
                            SetEventFlag(1459, ON);
                        }
                        SetEventFlag(1456, ON);
                    }
                }
L0:
                ClearCompiledConditionGroupState(0);
                if (!AnyBatchEventFlags(1460, 1474)) {
                    BatchSetNetworkconnectedEventFlags(1460, 1474, OFF);
                    SetNetworkconnectedEventFlag(1460, ON);
                }
                if (!EventFlag(1479)) {
                    if (!AnyBatchEventFlags(1475, 1476)) {
                        if (EventFlag(1460)
                            && (EventFlag(1420) || EventFlag(1421) || EventFlag(1426))
                            && EventFlag(71500192)
                            && !EventFlag(1439)
                            && !AnyBatchEventFlags(1435, 1436)) {
                            BatchSetEventFlags(1460, 1474, OFF);
                            SetNetworkconnectedEventFlag(1461, ON);
                            BatchSetEventFlags(1420, 1434, OFF);
                            SetNetworkconnectedEventFlag(1424, ON);
                            SetEventFlag(71110355, ON);
                        }
                        if (EventFlag(1460)
                            && EventFlag(1440)
                            && EventFlag(72009002)
                            && !EventFlag(1459)
                            && !AnyBatchEventFlags(1455, 1456)) {
                            BatchSetEventFlags(1460, 1474, OFF);
                            SetNetworkconnectedEventFlag(1461, ON);
                            BatchSetEventFlags(1440, 1454, OFF);
                            SetNetworkconnectedEventFlag(1443, ON);
                            SetEventFlag(71110356, ON);
                        }
                        if (EventFlag(1465) && EventFlag(71300066)) {
                            BatchSetNetworkconnectedEventFlags(1460, 1474, OFF);
                            SetNetworkconnectedEventFlag(1466, ON);
                            SetNetworkconnectedEventFlag(1476, ON);
                        }
                    }
                }
L0:
                ClearCompiledConditionGroupState(0);
                if (!AnyBatchEventFlags(1580, 1594)) {
                    BatchSetNetworkconnectedEventFlags(1580, 1594, OFF);
                    SetNetworkconnectedEventFlag(1580, ON);
                }
                if (!AnyBatchEventFlags(1595, 1596)) {
                    if (!EventFlag(1599)) {
                        if (!AnyBatchEventFlags(70002040, 70002044)) {
                            if (EventFlag(1580) && EventFlag(51500000) && EventFlag(71500000)) {
                                BatchSetNetworkconnectedEventFlags(1580, 1594, OFF);
                                SetNetworkconnectedEventFlag(1581, ON);
                            }
                        }
                    }
                }
L0:
                ClearCompiledConditionGroupState(0);
                if (!AnyBatchEventFlags(1920, 1934)) {
                    BatchSetNetworkconnectedEventFlags(1920, 1934, OFF);
                    SetNetworkconnectedEventFlag(1920, ON);
                }
                if (!AnyBatchEventFlags(1935, 1936)) {
                    GotoIf(L0, EventFlag(1939));
                }
L0:
                if (!AnyBatchEventFlags(1800, 1819)) {
                    BatchSetNetworkconnectedEventFlags(1800, 1819, OFF);
                    SetNetworkconnectedEventFlag(1800, ON);
                }
                if (!AnyBatchEventFlags(1820, 1834)) {
                    BatchSetNetworkconnectedEventFlags(1820, 1834, OFF);
                    SetNetworkconnectedEventFlag(1820, ON);
                }
                if (!AnyBatchEventFlags(1840, 1854)) {
                    BatchSetNetworkconnectedEventFlags(1840, 1854, OFF);
                    SetNetworkconnectedEventFlag(1840, ON);
                }
                if (!AnyBatchEventFlags(1860, 1874)) {
                    BatchSetNetworkconnectedEventFlags(1860, 1874, OFF);
                    SetNetworkconnectedEventFlag(1860, ON);
                }
                if (!AnyBatchEventFlags(1880, 1894)) {
                    BatchSetNetworkconnectedEventFlags(1880, 1894, OFF);
                    SetNetworkconnectedEventFlag(1880, ON);
                }
                if (!AnyBatchEventFlags(1900, 1914)) {
                    BatchSetNetworkconnectedEventFlags(1900, 1914, OFF);
                    SetNetworkconnectedEventFlag(1900, ON);
                }
                ClearCompiledConditionGroupState(0);
                BatchSetEventFlags(70003000, 70003296, OFF);
                if (!EventFlag(70002000)) {
                    if (!EventFlag(70003300)) {
                        if (!EventFlag(1001)) {
                            if (!EventFlag(9512)) {
                                SetEventFlag(70003000, ON);
                                BatchSetEventFlags(70003010, 70003019, OFF);
                                RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                SetEventFlag(70003200, ON);
                                GotoIf(S0, EventFlag(70003298));
                                GotoIf(S1, !AnyBatchEventFlags(70003010, 70003012));
S0:
                                SetEventFlag(70003200, OFF);
                                SetEventFlag(70003100, ON);
                            } else {
L4:
                                SetEventFlag(70002000, ON);
                                Goto(L5);
                            }
                        }
                    }
                }
S1:
L5:
                GotoIf(L5, EventFlag(70002015));
                GotoIf(L5, EventFlag(1215));
                GotoIf(L5, EventFlag(1216));
                GotoIf(L5, EventFlag(1219));
                GotoIf(L5, EventFlag(70003303));
                GotoIf(L5, !EventFlag(71100252));
                GotoIf(L5, EventFlag(1201));
                GotoIf(L5, EventFlag(1202));
                GotoIf(L5, EventFlag(1203));
                GotoIf(S2, !EventFlag(1441));
                GotoIf(L5, EventFlag(1459));
S2:
                SetEventFlag(70003000, ON);
                BatchSetEventFlags(70003010, 70003019, OFF);
                RandomlySetEventFlagInRange(70003010, 70003019, ON);
                SetEventFlag(70003201, ON);
                GotoIf(S3, EventFlag(70003298));
                GotoIf(L5, EventFlag(9512));
                GotoIf(S4, !AnyBatchEventFlags(70003010, 70003015));
S3:
                SetEventFlag(70003201, OFF);
                SetEventFlag(70003101, ON);
S4:
L5:
                if (!EventFlag(70002005)) {
                    if (!EventFlag(1135)) {
                        if (!EventFlag(1136)) {
                            if (!EventFlag(1139)) {
                                if (!EventFlag(70003301)) {
                                    if (EventFlag(50006160)) {
                                        if (!EventFlag(1121)) {
                                            if (!EventFlag(1122)) {
                                                SetEventFlag(70003000, ON);
                                                BatchSetEventFlags(70003010, 70003019, OFF);
                                                RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                                SetEventFlag(70003202, ON);
                                                GotoIf(S5, EventFlag(70003298));
                                                GotoIf(L5, EventFlag(9512));
                                                GotoIf(S6, !AnyBatchEventFlags(70003010, 70003015));
S5:
                                                SetEventFlag(70003202, OFF);
                                                SetEventFlag(70003102, ON);
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
S6:
L5:
                if (!EventFlag(70002010)) {
                    if (!EventFlag(1175)) {
                        if (!EventFlag(1176)) {
                            if (!EventFlag(1179)) {
                                if (!EventFlag(70003302)) {
                                    if (EventFlag(71100300)) {
                                        if (!EventFlag(1161)) {
                                            if (!EventFlag(1162)) {
                                                if (!EventFlag(1139)) {
                                                    SetEventFlag(70003000, ON);
                                                    BatchSetEventFlags(70003010, 70003019, OFF);
                                                    RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                                    SetEventFlag(70003203, ON);
                                                    GotoIf(S7, EventFlag(70003298));
                                                    GotoIf(L5, EventFlag(9512));
                                                    GotoIf(S8, 
                                                        !AnyBatchEventFlags(70003010, 70003012));
S7:
                                                    SetEventFlag(70003203, OFF);
                                                    SetEventFlag(70003103, ON);
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
S8:
L5:
                if (!EventFlag(70002050)) {
                    if (!EventFlag(1815)) {
                        if (!EventFlag(1816)) {
                            if (!EventFlag(1819)) {
                                if (!EventFlag(70003310)) {
                                    if (EventFlag(71100751)) {
                                        SetEventFlag(70003000, ON);
                                        BatchSetEventFlags(70003010, 70003019, OFF);
                                        RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                        SetEventFlag(70003204, ON);
                                        GotoIf(S9, EventFlag(70003298));
                                        GotoIf(L5, EventFlag(9512));
                                        GotoIf(S10, !AnyBatchEventFlags(70003010, 70003015));
S9:
                                        SetEventFlag(70003204, OFF);
                                        SetEventFlag(70003104, ON);
                                    }
                                }
                            }
                        }
                    }
                }
S10:
L5:
                if (!EventFlag(70002080)) {
                    if (!EventFlag(1935)) {
                        if (!EventFlag(1936)) {
                            if (!EventFlag(1939)) {
                                if (!EventFlag(70003316)) {
                                    if (EventFlag(71100861)) {
                                        SetEventFlag(70003000, ON);
                                        BatchSetEventFlags(70003010, 70003019, OFF);
                                        RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                        SetEventFlag(70003205, ON);
                                        GotoIf(S11, EventFlag(70003298));
                                        GotoIf(L5, EventFlag(9512));
                                        GotoIf(S12, !AnyBatchEventFlags(70003010, 70003015));
S11:
                                        SetEventFlag(70003205, OFF);
                                        SetEventFlag(70003105, ON);
                                    }
                                }
                            }
                        }
                    }
                }
S12:
L5:
                if (!EventFlag(70002045)) {
                    if (!EventFlag(1395)) {
                        if (!EventFlag(1396)) {
                            if (!EventFlag(1399)) {
                                if (!EventFlag(70003309)) {
                                    if (EventFlag(71110300)) {
                                        if (!EventFlag(1383)) {
                                            if (!EventFlag(1384)) {
                                                SetEventFlag(70003001, ON);
                                                BatchSetEventFlags(70003010, 70003019, OFF);
                                                RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                                SetEventFlag(70003220, ON);
                                                GotoIf(S13, EventFlag(70003298));
                                                GotoIf(L5, EventFlag(9512));
                                                GotoIf(S14, 
                                                    !AnyBatchEventFlags(70003010, 70003015));
S13:
                                                SetEventFlag(70003220, OFF);
                                                SetEventFlag(70003120, ON);
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
S14:
L5:
                GotoIf(L5, EventFlag(70002025));
                GotoIf(L5, EventFlag(1455));
                GotoIf(L5, EventFlag(1456));
                GotoIf(L5, EventFlag(1459));
                GotoIf(L5, EventFlag(70003305));
                GotoIf(L5, !EventFlag(72009000));
                GotoIf(L5, EventFlag(1442));
                GotoIf(L5, EventFlag(1443));
                GotoIf(L5, EventFlag(1444));
                GotoIf(L5, EventFlag(1445));
                GotoIf(L5, EventFlag(1446));
                GotoIf(L5, EventFlag(1447));
                GotoIf(S15, !EventFlag(1441));
                GotoIf(L5, EventFlag(1219));
S15:
                SetEventFlag(70003001, ON);
                BatchSetEventFlags(70003010, 70003019, OFF);
                RandomlySetEventFlagInRange(70003010, 70003019, ON);
                SetEventFlag(70003221, ON);
                GotoIf(S16, EventFlag(70003298));
                GotoIf(L5, EventFlag(9512));
                GotoIf(S17, !AnyBatchEventFlags(70003010, 70003015));
S16:
                SetEventFlag(70003221, OFF);
                SetEventFlag(70003121, ON);
S17:
L5:
                if (!EventFlag(70002030)) {
                    if (!EventFlag(1435)) {
                        if (!EventFlag(1436)) {
                            if (!EventFlag(1439)) {
                                if (!EventFlag(70003306)) {
                                    if (EventFlag(71120150)) {
                                        if (!EventFlag(1422)) {
                                            if (!EventFlag(1423)) {
                                                if (!EventFlag(1424)) {
                                                    if (!EventFlag(1425)) {
                                                        if (!EventFlag(1579)) {
                                                            SetEventFlag(70003001, ON);
                                                            BatchSetEventFlags(70003010, 70003019, OFF);
                                                            RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                                            SetEventFlag(70003222, ON);
                                                            GotoIf(S18, EventFlag(70003298));
                                                            GotoIf(L5, EventFlag(9512));
                                                            GotoIf(S19, 
                                                                !AnyBatchEventFlags(70003010, 70003015));
S18:
                                                            SetEventFlag(70003222, OFF);
                                                            SetEventFlag(70003122, ON);
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
S19:
L5:
                GotoIf(L5, EventFlag(70002035));
                GotoIf(L5, EventFlag(1475));
                GotoIf(L5, EventFlag(1476));
                GotoIf(L5, EventFlag(1479));
                GotoIf(L5, EventFlag(70003307));
                GotoIf(L5, !EventFlag(71300050));
                GotoIf(L5, EventFlag(1466));
                GotoIf(S20, !EventFlag(1443));
                GotoIf(L5, EventFlag(1459));
S20:
                GotoIf(S21, !EventFlag(1424));
                GotoIf(L5, EventFlag(1439));
S21:
                SetEventFlag(70003001, ON);
                BatchSetEventFlags(70003010, 70003019, OFF);
                RandomlySetEventFlagInRange(70003010, 70003019, ON);
                SetEventFlag(70003223, ON);
                GotoIf(S22, EventFlag(70003298));
                GotoIf(L5, EventFlag(9512));
                GotoIf(S23, !AnyBatchEventFlags(70003010, 70003015));
S22:
                SetEventFlag(70003223, OFF);
                SetEventFlag(70003123, ON);
S23:
L5:
                if (!EventFlag(70002055)) {
                    if (!EventFlag(1835)) {
                        if (!EventFlag(1836)) {
                            if (!EventFlag(1839)) {
                                if (!EventFlag(70003311)) {
                                    if (EventFlag(71100801)) {
                                        SetEventFlag(70003001, ON);
                                        BatchSetEventFlags(70003010, 70003019, OFF);
                                        RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                        SetEventFlag(70003224, ON);
                                        GotoIf(S24, EventFlag(70003298));
                                        GotoIf(L5, EventFlag(9512));
                                        GotoIf(S25, !AnyBatchEventFlags(70003010, 70003015));
S24:
                                        SetEventFlag(70003224, OFF);
                                        SetEventFlag(70003124, ON);
                                    }
                                }
                            }
                        }
                    }
                }
S25:
L5:
                if (!EventFlag(70002060)) {
                    if (!EventFlag(1855)) {
                        if (!EventFlag(1856)) {
                            if (!EventFlag(1859)) {
                                if (!EventFlag(70003312)) {
                                    if (EventFlag(71110351)) {
                                        SetEventFlag(70003001, ON);
                                        BatchSetEventFlags(70003010, 70003019, OFF);
                                        RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                        SetEventFlag(70003225, ON);
                                        GotoIf(S26, EventFlag(70003298));
                                        GotoIf(L5, EventFlag(9512));
                                        GotoIf(S27, !AnyBatchEventFlags(70003010, 70003015));
S26:
                                        SetEventFlag(70003225, OFF);
                                        SetEventFlag(70003125, ON);
                                    }
                                }
                            }
                        }
                    }
                }
S27:
L5:
                GotoIf(L5, EventFlag(70002020));
                GotoIf(L5, EventFlag(1375));
                GotoIf(L5, EventFlag(1376));
                GotoIf(L5, EventFlag(1379));
                GotoIf(L5, EventFlag(70003304));
                GotoIf(S28, EventFlag(71110100));
                GotoIf(L5, !EventFlag(72000101));
S28:
                GotoIf(L5, EventFlag(1363));
                SetEventFlag(70003002, ON);
                BatchSetEventFlags(70003010, 70003019, OFF);
                RandomlySetEventFlagInRange(70003010, 70003019, ON);
                SetEventFlag(70003240, ON);
                GotoIf(S29, EventFlag(70003298));
                GotoIf(L5, EventFlag(9512));
                GotoIf(S30, !AnyBatchEventFlags(70003010, 70003015));
S29:
                SetEventFlag(70003240, OFF);
                SetEventFlag(70003140, ON);
S30:
L5:
                if (!EventFlag(70002040)) {
                    if (!EventFlag(1595)) {
                        if (!EventFlag(1596)) {
                            if (!EventFlag(1599)) {
                                if (!EventFlag(70003308)) {
                                    if (EventFlag(71500000)) {
                                        if (!EventFlag(1581)) {
                                            SetEventFlag(70003002, ON);
                                            BatchSetEventFlags(70003010, 70003019, OFF);
                                            RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                            SetEventFlag(70003241, ON);
                                            GotoIf(S31, EventFlag(70003298));
                                            GotoIf(L5, EventFlag(9512));
                                            GotoIf(S32, !AnyBatchEventFlags(70003010, 70003015));
S31:
                                            SetEventFlag(70003241, OFF);
                                            SetEventFlag(70003141, ON);
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
S32:
L5:
                if (!EventFlag(70002040)) {
                    if (!EventFlag(1875)) {
                        if (!EventFlag(1876)) {
                            if (!EventFlag(1879)) {
                                if (!EventFlag(70003313)) {
                                    if (EventFlag(71700101)) {
                                        SetEventFlag(70003002, ON);
                                        BatchSetEventFlags(70003010, 70003019, OFF);
                                        RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                        SetEventFlag(70003242, ON);
                                        GotoIf(S33, EventFlag(70003298));
                                        GotoIf(L5, EventFlag(9512));
                                        GotoIf(S34, !AnyBatchEventFlags(70003010, 70003012));
S33:
                                        SetEventFlag(70003242, OFF);
                                        SetEventFlag(70003142, ON);
                                    }
                                }
                            }
                        }
                    }
                }
S34:
L5:
                if (!EventFlag(70002070)) {
                    if (!EventFlag(1895)) {
                        if (!EventFlag(1896)) {
                            if (!EventFlag(1899)) {
                                if (!EventFlag(70003314)) {
                                    if (EventFlag(72000251)) {
                                        SetEventFlag(70003002, ON);
                                        BatchSetEventFlags(70003010, 70003019, OFF);
                                        RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                        SetEventFlag(70003243, ON);
                                        GotoIf(S35, EventFlag(70003298));
                                        GotoIf(L5, EventFlag(9512));
                                        GotoIf(S36, !AnyBatchEventFlags(70003010, 70003012));
S35:
                                        SetEventFlag(70003243, OFF);
                                        SetEventFlag(70003143, ON);
                                    }
                                }
                            }
                        }
                    }
                }
S36:
L5:
                if (!EventFlag(70002075)) {
                    if (!EventFlag(1915)) {
                        if (!EventFlag(1916)) {
                            if (!EventFlag(1919)) {
                                if (!EventFlag(70003315)) {
                                    if (EventFlag(71500301)) {
                                        SetEventFlag(70003002, ON);
                                        BatchSetEventFlags(70003010, 70003019, OFF);
                                        RandomlySetEventFlagInRange(70003010, 70003019, ON);
                                        SetEventFlag(70003244, ON);
                                        GotoIf(S37, EventFlag(70003298));
                                        GotoIf(L5, EventFlag(9512));
                                        GotoIf(S38, !AnyBatchEventFlags(70003010, 70003012));
S37:
                                        SetEventFlag(70003244, OFF);
                                        SetEventFlag(70003144, ON);
                                    }
                                }
                            }
                        }
                    }
                }
S38:
L5:
                GotoIf(S39, !EventFlag(70003000));
                GotoIf(S39, !EventFlag(70003001));
                GotoIf(L0, EventFlag(70003002));
S39:
                GotoIf(S40, !EventFlag(70003000));
                GotoIf(S40, !EventFlag(70003001));
                GotoIf(L1, !EventFlag(70003002));
S40:
                GotoIf(S41, !EventFlag(70003000));
                GotoIf(S41, EventFlag(70003001));
                GotoIf(L2, EventFlag(70003002));
S41:
                GotoIf(S42, EventFlag(70003000));
                GotoIf(S42, !EventFlag(70003001));
                GotoIf(L3, EventFlag(70003002));
S42:
                GotoIf(S43, !EventFlag(70003000));
                GotoIf(S43, EventFlag(70003001));
                GotoIf(L4, !EventFlag(70003002));
S43:
                GotoIf(S44, EventFlag(70003000));
                GotoIf(S44, !EventFlag(70003001));
                GotoIf(L5, !EventFlag(70003002));
S44:
                GotoIf(S45, EventFlag(70003000));
                GotoIf(S45, EventFlag(70003001));
                GotoIf(L6, EventFlag(70003002));
S45:
                Goto(L19);
L0:
                BatchSetEventFlags(70003010, 70003029, OFF);
                GotoIf(S46, !EventFlag(70003298));
                BatchSetEventFlags(70003010, 70003019, ON);
                Goto(L10);
S46:
                GotoIf(S47, !EventFlag(9512));
                BatchSetEventFlags(70003010, 70003014, ON);
                Goto(L10);
S47:
                RandomlySetEventFlagInRange(70003010, 70003019, ON);
                Goto(L10);
L1:
                BatchSetEventFlags(70003010, 70003029, OFF);
                GotoIf(S48, !EventFlag(70003298));
                BatchSetEventFlags(70003010, 70003017, ON);
                Goto(L10);
S48:
                GotoIf(S49, !EventFlag(9512));
                BatchSetEventFlags(70003010, 70003014, ON);
                Goto(L10);
S49:
                RandomlySetEventFlagInRange(70003010, 70003017, ON);
                Goto(L10);
            }
L2:
            BatchSetEventFlags(70003010, 70003029, OFF);
            GotoIf(S50, !EventFlag(70003298));
            BatchSetEventFlags(70003018, 70003024, ON);
            Goto(L10);
S50:
            GotoIf(S51, !EventFlag(9512));
            BatchSetEventFlags(70003020, 70003024, ON);
            Goto(L10);
S51:
            RandomlySetEventFlagInRange(70003018, 70003024, ON);
            Goto(L10);
L3:
            BatchSetEventFlags(70003010, 70003029, OFF);
            GotoIf(S52, !EventFlag(70003298));
            BatchSetEventFlags(70003015, 70003019, ON);
            Goto(L10);
S52:
            RandomlySetEventFlagInRange(70003015, 70003019, ON);
            Goto(L10);
L4:
            BatchSetEventFlags(70003010, 70003029, OFF);
            BatchSetEventFlags(70003010, 70003014, ON);
            Goto(L10);
L5:
            BatchSetEventFlags(70003010, 70003029, OFF);
            BatchSetEventFlags(70003015, 70003017, ON);
            Goto(L10);
L6:
            BatchSetEventFlags(70003010, 70003029, OFF);
            BatchSetEventFlags(70003018, 70003019, ON);
            Goto(L10);
L10:
            if (AnyBatchEventFlags(70003010, 70003014)) {
                SetEventFlag(70003005, ON);
            }
            if (AnyBatchEventFlags(70003020, 70003024)) {
                SetEventFlag(70003005, ON);
            }
            if (AnyBatchEventFlags(70003015, 70003017)) {
                SetEventFlag(70003006, ON);
            }
            if (AnyBatchEventFlags(70003018, 70003019)) {
                SetEventFlag(70003007, ON);
            }
            if (AnyBatchEventFlags(70003005, 70003007)) {
                if (EventFlag(70003005)) {
                    SetEventFlag(70003090, OFF);
                    if (!AnyBatchEventFlags(70003100, 70003119)) {
                        SetEventFlag(70003090, ON);
                    }
                    GotoIf(S53, !EventFlag(70003102));
                    Goto(L6);
S53:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003202));
L6:
                    if (EventFlag(70002006)) {
                        SetEventFlag(70002007, ON);
                    }
                    if (EventFlag(70002005)) {
                        SetEventFlag(70002006, ON);
                    }
                    SetEventFlag(70002005, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S54, !EventFlag(70003103));
                    Goto(L6);
S54:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003203));
L6:
                    if (EventFlag(70002011)) {
                        SetEventFlag(70002012, ON);
                    }
                    if (EventFlag(70002010)) {
                        SetEventFlag(70002011, ON);
                    }
                    SetEventFlag(70002010, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S55, !EventFlag(70003105));
                    Goto(L6);
S55:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003205));
L6:
                    if (EventFlag(70002081)) {
                        SetEventFlag(70002082, ON);
                    }
                    if (EventFlag(70002080)) {
                        SetEventFlag(70002081, ON);
                    }
                    SetEventFlag(70002080, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S56, !EventFlag(70003100));
                    Goto(L6);
S56:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003200));
L6:
                    if (EventFlag(70002001)) {
                        SetEventFlag(70002002, ON);
                    }
                    if (EventFlag(70002000)) {
                        SetEventFlag(70002001, ON);
                    }
                    SetEventFlag(70002000, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S57, !EventFlag(70003101));
                    Goto(L6);
S57:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003201));
L6:
                    if (EventFlag(70002016)) {
                        SetEventFlag(70002017, ON);
                    }
                    if (EventFlag(70002015)) {
                        SetEventFlag(70002016, ON);
                    }
                    SetEventFlag(70002015, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S58, !EventFlag(70003104));
                    Goto(L6);
S58:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003204));
L6:
                    if (EventFlag(70002051)) {
                        SetEventFlag(70002052, ON);
                    }
                    if (EventFlag(70002050)) {
                        SetEventFlag(70002051, ON);
                    }
                    SetEventFlag(70002050, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    NoOp();
                }
L7:
                if (EventFlag(70003006)) {
                    SetEventFlag(70003090, OFF);
                    if (!AnyBatchEventFlags(70003120, 70003139)) {
                        SetEventFlag(70003090, ON);
                    }
                    GotoIf(S59, !EventFlag(70003125));
                    Goto(L6);
S59:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003225));
L6:
                    if (EventFlag(70002061)) {
                        SetEventFlag(70002062, ON);
                    }
                    if (EventFlag(70002060)) {
                        SetEventFlag(70002061, ON);
                    }
                    SetEventFlag(70002060, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S60, !EventFlag(70003121));
                    Goto(L6);
S60:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003221));
L6:
                    if (EventFlag(70002026)) {
                        SetEventFlag(70002027, ON);
                    }
                    if (EventFlag(70002025)) {
                        SetEventFlag(70002026, ON);
                    }
                    SetEventFlag(70002025, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S61, !EventFlag(70003120));
                    Goto(L6);
S61:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003220));
L6:
                    if (EventFlag(70002046)) {
                        SetEventFlag(70002047, ON);
                    }
                    if (EventFlag(70002045)) {
                        SetEventFlag(70002046, ON);
                    }
                    SetEventFlag(70002045, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S62, !EventFlag(70003122));
                    Goto(L6);
S62:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003222));
L6:
                    if (EventFlag(70002031)) {
                        SetEventFlag(70002032, ON);
                    }
                    if (EventFlag(70002030)) {
                        SetEventFlag(70002031, ON);
                    }
                    SetEventFlag(70002030, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S63, !EventFlag(70003123));
                    Goto(L6);
S63:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003223));
L6:
                    if (EventFlag(70002036)) {
                        SetEventFlag(70002037, ON);
                    }
                    if (EventFlag(70002035)) {
                        SetEventFlag(70002036, ON);
                    }
                    SetEventFlag(70002035, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S64, !EventFlag(70003124));
                    Goto(L6);
S64:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003224));
L6:
                    if (EventFlag(70002056)) {
                        SetEventFlag(70002057, ON);
                    }
                    if (EventFlag(70002055)) {
                        SetEventFlag(70002056, ON);
                    }
                    SetEventFlag(70002055, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    NoOp();
                }
L7:
                if (EventFlag(70003007)) {
                    SetEventFlag(70003090, OFF);
                    if (!AnyBatchEventFlags(70003140, 70003159)) {
                        SetEventFlag(70003090, ON);
                    }
                    GotoIf(S65, !EventFlag(70003140));
                    Goto(L6);
S65:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003240));
L6:
                    if (EventFlag(70002021)) {
                        SetEventFlag(70002022, ON);
                    }
                    if (EventFlag(70002020)) {
                        SetEventFlag(70002021, ON);
                    }
                    SetEventFlag(70002020, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S66, !EventFlag(70003144));
                    Goto(L6);
S66:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003244));
L6:
                    if (EventFlag(70002076)) {
                        SetEventFlag(70002077, ON);
                    }
                    if (EventFlag(70002075)) {
                        SetEventFlag(70002076, ON);
                    }
                    SetEventFlag(70002075, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S67, !EventFlag(70003143));
                    Goto(L6);
S67:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003243));
L6:
                    if (EventFlag(70002071)) {
                        SetEventFlag(70002072, ON);
                    }
                    if (EventFlag(70002070)) {
                        SetEventFlag(70002071, ON);
                    }
                    SetEventFlag(70002070, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S68, !EventFlag(70003142));
                    Goto(L6);
S68:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003242));
L6:
                    if (EventFlag(70002066)) {
                        SetEventFlag(70002067, ON);
                    }
                    if (EventFlag(70002065)) {
                        SetEventFlag(70002066, ON);
                    }
                    SetEventFlag(70002065, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    GotoIf(S69, !EventFlag(70003141));
                    Goto(L6);
S69:
                    GotoIf(L5, !EventFlag(70003090));
                    GotoIf(L5, !EventFlag(70003241));
L6:
                    if (EventFlag(70002041)) {
                        SetEventFlag(70002042, ON);
                    }
                    if (EventFlag(70002040)) {
                        SetEventFlag(70002041, ON);
                    }
                    SetEventFlag(70002040, ON);
                    GotoIf(L7, EventFlag(70003090));
L5:
                    NoOp();
                }
L7:
                ResetDragonrotCounter();
                IncrementEventValue(70003500, 10, 1023);
                SetEventFlag(70003299, ON);
                if (!EventFlag(9512)) {
                    if (EventFlag(6104)) {
                        SetEventFlag(6105, ON);
                    }
                    SetEventFlag(6104, ON);
                }
            }
L19:
            if (EventFlag(9512)) {
                SetEventFlag(70003297, ON);
                ResetDragonrotCounter();
                IncrementEventValue(70003500, 10, 1023);
                if (EventFlag(6104)) {
                    SetEventFlag(6105, ON);
                }
                SetEventFlag(6104, ON);
            }
            SetEventFlag(9510, OFF);
            SetEventFlag(9512, OFF);
        }
    }
L20:
    NoOp();
});

$Event(100, Restart, function() {
    if (!EventFlag(8305)) {
        ActivateMapPart(8907000, Disabled);
        ActivateMapPart(8907010, Disabled);
        ActivateMapPart(8907015, Disabled);
        ActivateMapPart(8907020, Disabled);
        ActivateMapPart(8907030, Disabled);
        ActivateMapPart(8907040, Disabled);
        ActivateMapPart(8907050, Disabled);
        ActivateMapPart(8907060, Disabled);
        ActivateMapPart(8907070, Disabled);
        ActivateMapPart(8907075, Disabled);
        ActivateMapPart(8907080, Disabled);
        ActivateMapPart(8907081, Disabled);
        ActivateMapPart(8907085, Disabled);
        ActivateMapPart(8907090, Disabled);
        ActivateMapPart(8907100, Disabled);
        ForceAnimationPlayback(8901000, 51, false, false, false, 0, 1);
        flagMap = EventFlag(8306) && !PlayerInMap(11, 0) && EventFlag(9810) && !AnyBatchEventFlags(9800, 9803);
        map = PlayerInMap(10, 0);
        map2 = PlayerInMap(25, 0);
        mapFlag = (PlayerInMap(11, 0) || PlayerInMap(11, 1) || PlayerInMap(11, 2)) && EventFlag(8302);
        map3 = PlayerInMap(15, 0);
        flag = !AnyBatchEventFlags(9800, 9803);
        flag2 = AllBatchEventFlags(9800, 9800) && !AnyBatchEventFlags(9801, 9803);
        flag3 = AllBatchEventFlags(9800, 9801) && !AnyBatchEventFlags(9802, 9803);
        flag4 = AllBatchEventFlags(9800, 9802) && !AnyBatchEventFlags(9803, 9803);
        flag5 = AllBatchEventFlags(9800, 9803);
        GotoIf(L1, flagMap);
        GotoIf(L2, map);
        GotoIf(L3, map2);
        GotoIf(L4, mapFlag);
        GotoIf(L5, map3);
        GotoIf(L10, flag);
        GotoIf(L11, flag2);
        GotoIf(L12, flag3);
        GotoIf(L13, flag4);
        GotoIf(L14, flag5);
        RestartEvent();
L1:
        SetEventFlag(9810, ON);
        ForceAnimationPlayback(8901000, 100, false, false, false, 0, 1);
        ActivateMapPart(8907040, Enabled);
        SetAreaEnvmap(0);
        Goto(L20);
L2:
        SetEventFlag(9810, ON);
        ForceAnimationPlayback(8901000, 50, false, false, false, 0, 1);
        ActivateMapPart(8907060, Enabled);
        SetAreaEnvmap(0);
        Goto(L20);
L3:
        SetEventFlag(9810, OFF);
        ForceAnimationPlayback(8901000, 100, false, false, false, 0, 1);
        ActivateMapPart(8907070, Enabled);
        SetAreaEnvmap(4);
        Goto(L20);
L4:
        SetEventFlag(9810, OFF);
        ForceAnimationPlayback(8901000, 50, false, false, false, 0, 1);
        ActivateMapPart(8907100, Enabled);
        SetAreaGparamSubId(11, 0, 20, 0);
        SetAreaGparamSubId(11, 1, 20, 0);
        SetAreaGparamSubId(11, 2, 20, 0);
        SetAreaEnvmap(4);
        Goto(L20);
L5:
        SetEventFlag(9810, OFF);
        ForceAnimationPlayback(8901000, 3, false, false, false, 0, 1);
        ForceAnimationPlayback(8901000, 100, false, false, false, 0, 1);
        ActivateMapPart(8907015, Enabled);
        GotoIf(S0, flag);
        GotoIf(S1, flag2);
        GotoIf(S2, flag3);
        GotoIf(S3, flag4);
S0:
        SetAreaEnvmap(1);
        Goto(L20);
S1:
        SetAreaEnvmap(2);
        Goto(L20);
S2:
        SetAreaEnvmap(3);
        Goto(L20);
S3:
        SetAreaEnvmap(4);
        Goto(L20);
L10:
        SetEventFlag(9810, OFF);
        ForceAnimationPlayback(8901000, 2, false, false, false, 0, 1);
        ActivateMapPart(8907000, Enabled);
        SetAreaEnvmap(1);
        Goto(L20);
L11:
        SetEventFlag(9810, OFF);
        ForceAnimationPlayback(8901000, 3, false, false, false, 0, 1);
        ActivateMapPart(8907010, Enabled);
        SetAreaEnvmap(2);
        Goto(L20);
L12:
        SetEventFlag(9810, OFF);
        ForceAnimationPlayback(8901000, 4, false, false, false, 0, 1);
        ActivateMapPart(8907020, Enabled);
        SetAreaEnvmap(3);
        Goto(L20);
L13:
        SetEventFlag(9810, OFF);
        ForceAnimationPlayback(8901000, 100, false, false, false, 0, 1);
        ActivateMapPart(8907030, Enabled);
        SetAreaEnvmap(4);
        Goto(L20);
L14:
        SetEventFlag(9810, OFF);
        ForceAnimationPlayback(8901000, 1, false, false, false, 0, 1);
        ActivateMapPart(8907050, Enabled);
        SetAreaEnvmap(5);
        Goto(L20);
    }
L20:
    WaitFor(
        PlayerHasChangedMap()
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9800)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9801)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9802)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9803)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9810));
    RestartEvent();
});

$Event(130, Default, function(areaId, blockId, eventFlagId, desiredFlagState, value) {
    EndIf(ThisEventSlot());
    mapFlag &= PlayerInMap(areaId, blockId);
    if (eventFlagId != 0) {
        mapFlag &= EventFlagState(desiredFlagState, TargetEventFlagType.EventFlag, eventFlagId);
    }
    WaitFor(mapFlag);
    EndIf(value == -1);
    EndEvent();
});

$Event(170, Default, function() {
    WaitFor(
        EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6800)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6801)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6802)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6803)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6804)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6805)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6806)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6808)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6809)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6810)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6811)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6812)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6813)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6814)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6815)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6816)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6817));
    RestartIf(
        !(EventFlag(6800)
            && EventFlag(6801)
            && EventFlag(6802)
            && EventFlag(6803)
            && EventFlag(6804)
            && EventFlag(6805)
            && EventFlag(6806)
            && EventFlag(6808)
            && EventFlag(6809)
            && EventFlag(6810)
            && EventFlag(6811)
            && EventFlag(6812)
            && EventFlag(6813)
            && EventFlag(6814)
            && EventFlag(6815)
            && EventFlag(6816)
            && EventFlag(6817)));
    AwardAchievement(1);
});

$Event(190, Default, function() {
    WaitFor(
        EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 132)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 140));
    RestartIf(!(EventFlag(132) && EventFlag(140)));
    WaitFixedTimeSeconds(3);
    AwardAchievement(2);
});

$Event(200, Restart, function() {
    EndIf(ThisEvent());
    WaitFor(EventFlag(250));
    SetEventFlag(6202, ON);
});

$Event(201, Restart, function() {
    EndIf(ThisEvent());
    WaitFor(ActionBit(4) && ActionBit(5) && ActionBit(6));
    SetEventFlag(6204, ON);
    SetEventFlag(6205, ON);
});

$Event(203, Restart, function() {
    EndIf(ThisEvent());
    WaitFor(
        PlayerHasItem(ItemType.Weapon, 200000)
            || PlayerHasItem(ItemType.Weapon, 200100)
            || PlayerHasItem(ItemType.Weapon, 200200)
            || PlayerHasItem(ItemType.Weapon, 200300)
            || PlayerHasItem(ItemType.Weapon, 200400)
            || PlayerHasItem(ItemType.Weapon, 200500)
            || PlayerHasItem(ItemType.Weapon, 200600)
            || PlayerHasItem(ItemType.Weapon, 210000)
            || PlayerHasItem(ItemType.Weapon, 211000)
            || PlayerHasItem(ItemType.Weapon, 301000)
            || PlayerHasItem(ItemType.Weapon, 301100)
            || PlayerHasItem(ItemType.Weapon, 301200)
            || PlayerHasItem(ItemType.Weapon, 301300)
            || PlayerHasItem(ItemType.Weapon, 310000)
            || PlayerHasItem(ItemType.Weapon, 310100)
            || PlayerHasItem(ItemType.Weapon, 410000)
            || PlayerHasItem(ItemType.Weapon, 410100)
            || PlayerHasItem(ItemType.Weapon, 411000)
            || PlayerHasItem(ItemType.Weapon, 510000)
            || PlayerHasItem(ItemType.Weapon, 510100)
            || PlayerHasItem(ItemType.Weapon, 511000)
            || PlayerHasItem(ItemType.Weapon, 511100)
            || PlayerHasItem(ItemType.Weapon, 610100)
            || PlayerHasItem(ItemType.Weapon, 611100)
            || PlayerHasItem(ItemType.Weapon, 612100)
            || PlayerHasItem(ItemType.Weapon, 620000)
            || PlayerHasItem(ItemType.Weapon, 620100)
            || PlayerHasItem(ItemType.Weapon, 630000)
            || PlayerHasItem(ItemType.Weapon, 630100)
            || PlayerHasItem(ItemType.Weapon, 640000)
            || PlayerHasItem(ItemType.Weapon, 640100)
            || PlayerHasItem(ItemType.Weapon, 640200)
            || PlayerHasItem(ItemType.Weapon, 640300)
            || PlayerHasItem(ItemType.Weapon, 640400)
            || PlayerHasItem(ItemType.Weapon, 650000)
            || PlayerHasItem(ItemType.Weapon, 650100)
            || PlayerHasItem(ItemType.Weapon, 650200)
            || PlayerHasItem(ItemType.Weapon, 650300)
            || PlayerHasItem(ItemType.Weapon, 650400)
            || PlayerHasItem(ItemType.Weapon, 660000)
            || PlayerHasItem(ItemType.Weapon, 660100)
            || PlayerHasItem(ItemType.Weapon, 660200)
            || PlayerHasItem(ItemType.Weapon, 660300)
            || PlayerHasItem(ItemType.Weapon, 660400)
            || PlayerHasItem(ItemType.Weapon, 660500)
            || PlayerHasItem(ItemType.Weapon, 660600)
            || PlayerHasItem(ItemType.Weapon, 660700)
            || PlayerHasItem(ItemType.Weapon, 660800)
            || PlayerHasItem(ItemType.Weapon, 670000)
            || PlayerHasItem(ItemType.Weapon, 671000)
            || PlayerHasItem(ItemType.Weapon, 672000)
            || PlayerHasItem(ItemType.Weapon, 673000)
            || PlayerHasItem(ItemType.Weapon, 680000)
            || PlayerHasItem(ItemType.Weapon, 681000));
    SetEventFlag(6212, ON);
    SetEventFlag(6062, ON);
});

$Event(207, Restart, function() {
    EndIf(EventFlag(6216));
    WaitFor(
        (PlayerHasItem(ItemType.Goods, 3000) || PlayerHasItem(ItemType.Goods, 3001))
            && PlayerHasItem(ItemType.Goods, 4400));
    SetEventFlag(6216, ON);
});

$Event(209, Restart, function() {
    EndIf(EventFlag(6217));
    WaitFor(PlayerHasItem(ItemType.Goods, 4000));
    SetEventFlag(6217, ON);
});

$Event(230, Restart, function(eventFlagId, eventFlagId2, eventFlagId3, eventFlagId4, eventFlagId5, eventFlagId6) {
    EndIf(EventFlag(eventFlagId3));
    flag &= EventFlag(11120100);
    if (eventFlagId > 0) {
        if (eventFlagId2 > 0) {
            flag &= AnyBatchEventFlags(eventFlagId, eventFlagId2);
        }
        if (eventFlagId2 <= 0) {
            flag &= EventFlag(eventFlagId);
        }
    }
L0:
    WaitFor(flag);
    SetEventFlag(eventFlagId3, ON);
    if (eventFlagId4 > 0) {
        SetEventFlag(eventFlagId4, ON);
    }
    if (eventFlagId5 > 0) {
        SetEventFlag(eventFlagId5, ON);
    }
    if (eventFlagId6 > 0) {
        SetEventFlag(eventFlagId6, ON);
    }
});

$Event(250, Restart, function() {
    SetEventFlag(9207, OFF);
    ClearSpEffect(10000, 110094);
    EndIf(EventFlag(8250));
    EndIf(EventFlag(8310));
    WaitFor(EventFlag(9300) && AnyBatchEventFlags(131, 143) && CharacterHasEventMessage(10000, 50));
    if (!EventFlag(250)) {
        SetSpEffect(10000, 8200);
        SetEventFlag(9207, ON);
        AwardItemLot(3010);
        SetSpEffect(10000, 110094);
        WaitFixedTimeSeconds(5);
        if (PlayerInMap(10, 0)) {
            SetMapSoundStateUnknown(1002699, true, true);
        }
        if (PlayerInMap(11, 0)) {
            SetMapSoundStateUnknown(1102699, true, true);
        }
        if (PlayerInMap(11, 1)) {
            SetMapSoundStateUnknown(1112699, true, true);
        }
        if (PlayerInMap(11, 2)) {
            SetMapSoundStateUnknown(1122699, true, true);
        }
        if (PlayerInMap(13, 0)) {
            SetMapSoundStateUnknown(1302699, true, true);
        }
        if (PlayerInMap(15, 0)) {
            SetMapSoundStateUnknown(1502699, true, true);
        }
        if (PlayerInMap(17, 0)) {
            SetMapSoundStateUnknown(1702699, true, true);
        }
        if (PlayerInMap(20, 0)) {
            SetMapSoundStateUnknown(2002699, true, true);
        }
        if (PlayerInMap(25, 0)) {
            SetMapSoundStateUnknown(2502699, true, true);
        }
        WaitFixedTimeFrames(1);
        PlayCutsceneToAll(89000099, CutscenePlayMode.Unskippable);
        WaitFixedTimeFrames(1);
        if (!EventFlag(6250)) {
            AddResurrectionNodes(1);
        }
        WaitFixedTimeFrames(1);
        SetEventFlag(250, ON);
        SetEventFlag(6250, ON);
        ClearSpEffect(10000, 8200);
    }
L0:
    WaitFor(CharacterHasSpEffect(10000, 110090));
    WaitFor(HPRatio(10000) > 0);
    if (CharacterHasSpEffect(10000, 110094)) {
        SetMapSoundStateUnknown(-1, false, false);
        WaitFixedTimeSeconds(0.2);
        ClearSpEffect(10000, 110094);
        SetEventFlag(9207, OFF);
    }
L1:
    WaitFixedTimeSeconds(2);
    WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(1));
    ShowTutorialText(0, 10024680, 10024681, 208);
    AwardAchievement(19);
    SetEventFlag(8250, ON);
});

$Event(251, Restart, function() {
    EndIf(EventFlag(6251));
    WaitFor(
        EventFlag(11120100)
            && (EventFlag(6500)
                || EventFlag(6501)
                || EventFlag(6502)
                || EventFlag(6503)
                || EventFlag(6504)
                || EventFlag(6505)
                || EventFlag(6506)
                || EventFlag(6507)
                || EventFlag(6508)
                || EventFlag(6509)));
    SetEventFlag(6090, ON);
    WaitFixedTimeSeconds(1);
    WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(1));
    ShowTutorialText(0, 10024560, 10024561, 222);
    SetEventFlag(6251, ON);
});

$Event(252, Restart, function() {
    WaitFixedTimeSeconds(3);
    ClearEventValue(8190, 5);
    ClearEventValue(8195, 5);
    if (EventFlag(6252)) {
        RemoveHintBox(2520);
    }
    EndIf(EventFlag(6252));
    if (!EventFlag(252)) {
        WaitFor(
            EventFlag(11120100)
                && (PlayerHasItem(ItemType.Goods, 2100)
                    || PlayerHasItem(ItemType.Goods, 2110)
                    || PlayerHasItem(ItemType.Goods, 2120)));
        SetEventFlag(6054, ON);
        SetEventFlag(6206, ON);
        WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(1));
        ShowTutorialText(0, 10024660, 10024661, 231);
        SetEventFlag(252, ON);
        WaitFixedTimeSeconds(1);
    }
L0:
    if (PlayerInMap(11, 0)) {
        areaChr &= !EntityInRadiusOfEntity(10000, 1100270, 10, 1);
    }
    areaChr &= CharacterHasEventMessage(10000, 60);
    WaitFor(areaChr);
    StoreItemAmountHeldInEventValue(ItemType.Goods, 1000, 8190, 5);
    RestartIf(EventValue(8190, 5) < 5);
    RestartIf(CharacterHasSpEffect(10000, 30700));
    ShowSmallHintBox(2520, 10021230);
    WaitFixedTimeSeconds(1.5);
    StoreItemAmountHeldInEventValue(ItemType.Goods, 1000, 8195, 5);
    WaitFor(CompareEventValues(8190, 5, ComparisonType.Greater, 8195, 5) || ElapsedSeconds(3));
    SetEventFlag(6252, ON);
    WaitFixedTimeSeconds(1);
    RestartEvent();
});

$Event(253, Restart, function() {
    EndIf(EventFlag(6253));
    if (!EventFlag(253)) {
        WaitFor(
            EventFlag(11120100)
                && PlayerHasItem(ItemType.Weapon, 680000)
                && CharacterHasSpEffect(10000, 110041));
        WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(1));
        ShowTutorialText(0, 10024690, 10024691, 210);
        ShowHintBox(2530, 10020250, 10020251);
        SetEventFlag(253, ON);
        WaitFixedTimeSeconds(10);
    }
L0:
    WaitFixedTimeSeconds(5);
    RemoveHintBox(2530);
    SetEventFlag(6253, ON);
});

$Event(254, Restart, function() {
    EndIf(EventFlag(6254));
    sp = CharacterHasSpEffect(10000, 9424);
    sp2 = CharacterHasSpEffect(10000, 9430);
    sp3 = CharacterHasSpEffect(10000, 9431);
    WaitFor(
        EventFlag(11120100)
            && (CharacterHasSpEffect(10000, 9040)
                || CharacterHasSpEffect(10000, 9041)
                || CharacterHasSpEffect(10000, 9042)
                || CharacterHasSpEffect(10000, 9043)
                || CharacterHasSpEffect(10000, 9045)
                || CharacterHasSpEffect(10000, 9049)
                || CharacterHasSpEffect(10000, 9050)
                || CharacterHasSpEffect(10000, 9100)
                || CharacterHasSpEffect(10000, 9101)
                || CharacterHasSpEffect(10000, 9102)
                || CharacterHasSpEffect(10000, 9103)
                || CharacterHasSpEffect(10000, 9104)
                || CharacterHasSpEffect(10000, 9105)
                || CharacterHasSpEffect(10000, 9106)
                || CharacterHasSpEffect(10000, 9110)
                || CharacterHasSpEffect(10000, 9111)
                || CharacterHasSpEffect(10000, 9112)
                || CharacterHasSpEffect(10000, 9113)
                || CharacterHasSpEffect(10000, 9114)
                || CharacterHasSpEffect(10000, 9115)
                || CharacterHasSpEffect(10000, 9116)
                || CharacterHasSpEffect(10000, 9117)
                || CharacterHasSpEffect(10000, 9118)
                || CharacterHasSpEffect(10000, 9119)
                || CharacterHasSpEffect(10000, 9120)
                || CharacterHasSpEffect(10000, 9121)
                || CharacterHasSpEffect(10000, 9122)
                || CharacterHasSpEffect(10000, 9123)
                || CharacterHasSpEffect(10000, 9124)
                || CharacterHasSpEffect(10000, 9125)
                || CharacterHasSpEffect(10000, 9220)
                || CharacterHasSpEffect(10000, 9200)
                || CharacterHasSpEffect(10000, 9201)
                || CharacterHasSpEffect(10000, 9202)
                || CharacterHasSpEffect(10000, 9203)
                || CharacterHasSpEffect(10000, 9204)
                || CharacterHasSpEffect(10000, 9205)
                || CharacterHasSpEffect(10000, 9206)
                || CharacterHasSpEffect(10000, 9207)
                || CharacterHasSpEffect(10000, 9208)
                || CharacterHasSpEffect(10000, 9209)
                || CharacterHasSpEffect(10000, 9210)
                || CharacterHasSpEffect(10000, 9211)
                || CharacterHasSpEffect(10000, 9212)
                || CharacterHasSpEffect(10000, 9213)
                || CharacterHasSpEffect(10000, 9214)
                || CharacterHasSpEffect(10000, 9215)
                || CharacterHasSpEffect(10000, 9216)
                || CharacterHasSpEffect(10000, 9218)
                || CharacterHasSpEffect(10000, 9219)
                || CharacterHasSpEffect(10000, 9220)
                || CharacterHasSpEffect(10000, 9221)
                || CharacterHasSpEffect(10000, 9230)
                || CharacterHasSpEffect(10000, 9231)
                || CharacterHasSpEffect(10000, 9232)
                || CharacterHasSpEffect(10000, 9233)
                || CharacterHasSpEffect(10000, 9234)
                || CharacterHasSpEffect(10000, 9235)
                || CharacterHasSpEffect(10000, 9236)
                || CharacterHasSpEffect(10000, 9237)
                || CharacterHasSpEffect(10000, 9423)
                || CharacterHasSpEffect(10000, 9620)));
    WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(1));
    ShowTutorialText(0, 10024700, 10024701, 211);
    SetEventFlag(6254, ON);
});

$Event(255, Restart, function() {
    if (EventFlag(11127320)) {
        EndIf(EventFlag(6255));
        WaitFixedTimeSeconds(2);
        WaitFor(
            EventFlag(11120100) && HPRatio(10000) < 0.5 && HPRatio(10000) != 0 && EventFlag(6720));
        if (!EventFlag(9300)) {
            RestartIf(EventFlag(11125810));
        }
        WaitFixedTimeSeconds(5);
        RestartIf(
            HPRatio(10000) == 0
                || HPRatio(10000) > 0.5
                || CharacterHasSpEffect(10000, 110125)
                || CharacterHasSpEffect(10000, 100332)
                || CharacterHasSpEffect(10000, 120));
        ShowTutorialText(0, 10023150, 10023151, 203);
        SetEventFlag(6255, ON);
        EndEvent();
    }
L0:
    WaitFor(PlayerInMap(11, 0));
    WaitFixedTimeSeconds(1);
    RestartEvent();
});

$Event(256, Restart, function() {
    EndIf(EventFlag(6256));
    if (!EventFlag(256)) {
        if (!EventFlag(8310)) {
            flagSp &= EventFlag(9300);
        }
        flagSp &= CharacterHasSpEffect(10000, 100346)
            && !EventFlag(9285)
            && !CharacterHasSpEffect(10000, 110070)
            && !CharacterHasSpEffect(10000, 110015);
        WaitFor(flagSp);
        WaitFixedTimeSeconds(1);
        RestartIf(CharacterHasSpEffect(10000, 30700));
        ShowTutorialText(0, 10024710, 10024711, 204);
        ShowSmallHintBox(2560, 10021530);
        SetEventFlag(256, ON);
        WaitFixedTimeSeconds(10);
    }
L0:
    WaitFixedTimeSeconds(5);
    RemoveHintBox(2560);
    SetEventFlag(6256, ON);
});

$Event(257, Restart, function() {
    EndIf(EventFlag(6257));
    GotoIf(L0, EventFlag(257));
    WaitFor(EventFlag(6100));
    WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(1));
    if (EventFlag(8310)) {
        ShowSmallHintBox(2570, 10021240);
        SetEventFlag(257, ON);
        WaitFixedTimeSeconds(10);
L0:
        WaitFixedTimeSeconds(5);
        RemoveHintBox(2570);
        SetEventFlag(6257, ON);
        EndEvent();
    }
L1:
    ShowTutorialText(0, 10024670, 10024671, 232);
    SetEventFlag(6257, ON);
});

$Event(258, Restart, function() {
    if (EventFlag(6258)) {
        WaitFixedTimeSeconds(5);
        RemoveHintBox(2580);
    }
    EndIf(EventFlag(6258));
    if (!EventFlag(258)) {
        WaitFor(
            EventFlag(9300)
                && (PlayerHasItem(ItemType.Weapon, 210000)
                    || PlayerHasItem(ItemType.Weapon, 211000)
                    || PlayerHasItem(ItemType.Weapon, 310000)
                    || PlayerHasItem(ItemType.Weapon, 310100)
                    || PlayerHasItem(ItemType.Weapon, 410000)
                    || PlayerHasItem(ItemType.Weapon, 410100)
                    || PlayerHasItem(ItemType.Weapon, 411000)
                    || PlayerHasItem(ItemType.Weapon, 510000)
                    || PlayerHasItem(ItemType.Weapon, 510100)
                    || PlayerHasItem(ItemType.Weapon, 511000)
                    || PlayerHasItem(ItemType.Weapon, 511100)
                    || PlayerHasItem(ItemType.Weapon, 610100)
                    || PlayerHasItem(ItemType.Weapon, 611100)
                    || PlayerHasItem(ItemType.Weapon, 612100)
                    || PlayerHasItem(ItemType.Weapon, 670000)
                    || PlayerHasItem(ItemType.Weapon, 671000)
                    || PlayerHasItem(ItemType.Weapon, 672000)
                    || PlayerHasItem(ItemType.Weapon, 673000))
                && !CharacterHasSpEffect(10000, 30700));
        SetEventFlag(6056, ON);
        SetEventFlag(6207, ON);
        WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(1));
        ShowTutorialText(0, 10024640, 10024641, 229);
        SetEventFlag(258, ON);
        WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(1));
        ShowSmallHintBox(2580, 10021110);
        timeFlag |= ElapsedSeconds(15);
    }
L0:
    timeFlag |= EventFlag(6057);
    WaitFor(timeFlag);
    ShowSmallHintBox(2580, 10021260);
    SetEventFlag(6258, ON);
    WaitFixedTimeSeconds(10);
    RestartEvent();
});

$Event(259, Restart, function() {
    EndIf(EventFlag(6259));
    WaitFor(
        EventFlag(9300)
            && (PlayerHasItem(ItemType.Weapon, 301000)
                || PlayerHasItem(ItemType.Weapon, 301100)
                || PlayerHasItem(ItemType.Weapon, 301200)
                || PlayerHasItem(ItemType.Weapon, 301300))
            && !CharacterHasSpEffect(10000, 30700));
    WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(1));
    ShowTutorialText(0, 10024650, 10024651, 230);
    SetEventFlag(6259, ON);
});

$Event(260, Restart, function() {
    EndIf(EventFlag(6260));
    WaitFor(
        EventFlag(11120100)
            && (CharacterHasSpEffect(10000, 9450) || CharacterHasSpEffect(10000, 9450)));
    WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(1));
    ShowTutorialText(0, 10024780, 10024781, 240);
    SetEventFlag(6260, ON);
});

$Event(261, Restart, function() {
    EndIf(EventFlag(6261));
    WaitFor(
        EventFlag(11120100)
            && (PlayerHasItem(ItemType.Goods, 2920)
                || PlayerHasItem(ItemType.Goods, 2921)
                || PlayerHasItem(ItemType.Goods, 2922)
                || PlayerHasItem(ItemType.Goods, 2923)
                || PlayerHasItem(ItemType.Goods, 2924))
            && !CharacterHasSpEffect(10000, 30700));
    WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(1));
    ShowTutorialText(0, 10024630, 10024631, 228);
    SetEventFlag(6261, ON);
    SetEventFlag(6086, ON);
    SetEventFlag(6094, ON);
});

$Event(262, Restart, function() {
    EndIf(EventFlag(6262));
    EndIf(!EventFlag(612));
    WaitFor(EventFlag(612));
    WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(1));
    ShowTutorialText(0, 10024800, 10024801, 241);
    SetEventFlag(6262, ON);
});

$Event(263, Restart, function() {
    EndIf(EventFlag(6263));
    WaitFor(EventFlag(9505));
    WaitFor(!CharacterHasSpEffect(10000, 30700) && ElapsedSeconds(10));
    ShowTutorialText(0, 10024810, 10024811, 242);
    SetEventFlag(6263, ON);
});

$Event(264, Restart, function() {
    EndIf(EventFlag(6264));
    WaitFor(EventFlag(71110179) && !CharacterHasSpEffect(10000, 30700));
    WaitFixedTimeSeconds(2);
    WaitFor(!CharacterHasSpEffect(10000, 30700));
    ShowTutorialText(0, 10024830, 10024831, 244);
    SetEventFlag(6264, ON);
});

$Event(265, Restart, function() {
    EndIf(EventFlag(6265));
    if (!EventFlag(265)) {
        WaitFor(
            (EventFlag(6510)
                || EventFlag(6511)
                || EventFlag(6512)
                || EventFlag(6513)
                || EventFlag(6514)
                || EventFlag(6515)
                || EventFlag(6516)
                || EventFlag(6517)
                || EventFlag(6518)
                || EventFlag(6519))
                && EventFlag(9300));
        SetEventFlag(6052, ON);
        SetEventFlag(6204, ON);
        WaitFor(ElapsedSeconds(2) && !CharacterHasSpEffect(10000, 30700));
        ShowTutorialText(0, 10024570, 10024571, 202);
        SetEventFlag(265, ON);
        WaitFixedTimeFrames(1);
        ShowSmallHintBox(2650, 10021110);
        WaitFor(ElapsedSeconds(5) || EventFlag(6053));
    }
L0:
    WaitFor(ElapsedSeconds(5) || EventFlag(6053));
    RemoveHintBox(2650);
    SetEventFlag(6265, ON);
});

$Event(266, Restart, function() {
    RemoveHintBox(2660);
    EndIf(EventFlag(6266));
    WaitFor(EventFlag(6265) && MapAlertMusicState(MusicStateType.Combat, true));
    ShowSmallHintBox(2660, 10021200);
    WaitFixedTimeSeconds(7);
    RemoveHintBox(2660);
    SetEventFlag(6266, ON);
});

$Event(267, Restart, function() {
    RemoveHintBox(2670);
    EndIf(EventFlag(6267));
    WaitFor(
        CountEventFlags(TargetEventFlagType.EventFlag, 6510, 6519) > 2
            && EventFlag(9300)
            && EventFlag(6265));
    WaitFor(ElapsedSeconds(2) && !CharacterHasSpEffect(10000, 30700));
    ShowSmallHintBox(2670, 10021210);
    SetEventFlag(6267, ON);
    WaitFixedTimeSeconds(10);
    RemoveHintBox(2670);
});

$Event(268, Restart, function() {
    EndIf(EventFlag(6268));
    WaitFor(EventFlag(265) && PlayerHasItem(ItemType.Goods, 1000));
    WaitFor(ElapsedSeconds(2) && !CharacterHasSpEffect(10000, 30700));
    ShowTutorialText(0, 10024720, 10024721, 233);
    SetEventFlag(6268, ON);
});

$Event(269, Restart, function() {
    EndIf(EventFlag(6185));
    EndIf(EventFlag(8310));
    if (EventFlag(11107655)) {
        SetEventFlag(6185, ON);
        EndEvent();
    }
L0:
    WaitFor(
        EventFlag(70003299)
            && (PlayerHasItem(ItemType.Goods, 9500)
                || PlayerHasItem(ItemType.Goods, 9501)
                || PlayerHasItem(ItemType.Goods, 9502)
                || PlayerHasItem(ItemType.Goods, 9503)
                || PlayerHasItem(ItemType.Goods, 9504)
                || PlayerHasItem(ItemType.Goods, 9505)
                || PlayerHasItem(ItemType.Goods, 9510)
                || PlayerHasItem(ItemType.Goods, 9511)
                || PlayerHasItem(ItemType.Goods, 9515)
                || PlayerHasItem(ItemType.Goods, 9516)
                || PlayerHasItem(ItemType.Goods, 9520)
                || PlayerHasItem(ItemType.Goods, 9521)
                || PlayerHasItem(ItemType.Goods, 9522)
                || PlayerHasItem(ItemType.Goods, 9523)
                || PlayerHasItem(ItemType.Goods, 9524)
                || PlayerHasItem(ItemType.Goods, 9525)
                || PlayerHasItem(ItemType.Goods, 9526)));
    WaitFixedTimeSeconds(1);
    WaitFor(!CharacterHasSpEffect(10000, 30700));
    ShowTutorialText(0, 10024820, 10024821, 243);
    SetEventFlag(11107655, ON);
    SetEventFlag(6185, ON);
});

$Event(270, Restart, function() {
    if (EventFlag(6186)) {
        WaitFixedTimeSeconds(5);
        RemoveHintBox(2700);
        EndEvent();
    }
    WaitFor(EventFlag(6105));
    WaitFixedTimeSeconds(1);
    WaitFor(!CharacterHasSpEffect(10000, 30700));
    ShowHintBox(2700, 10020300, 10020301);
    SetEventFlag(6186, ON);
    WaitFixedTimeSeconds(4);
    RestartEvent();
});

$Event(271, Restart, function() {
    EndIf(EventFlag(9302));
    if (EventFlag(6271)) {
        WaitFixedTimeSeconds(5);
        RemoveHintBox(2710);
        EndEvent();
    }
    if (PlayerInMap(10, 0)) {
        if (!(EventValue(8330, 5) == 10 || EventValue(8335, 5) == 10)) {
            if (!EventFlag(11000330)) {
                WaitFor(CharacterAIState(1000330, AIStateType.Combat));
                WaitFor(EntityInRadiusOfEntity(10000, 1000330, 10, 1) && CharacterDead(10000));
                IncrementEventValue(8330, 5, 10);
                EndEvent();
            }
L2:
            WaitFor(EventFlag(11005801) && CharacterDead(10000));
            IncrementEventValue(8335, 5, 10);
            EndEvent();
        }
L1:
        WaitFixedTimeSeconds(3);
        ShowHintBox(2710, 11101080, 11101081);
        SetEventFlag(6271, ON);
        WaitFixedTimeSeconds(5);
        RestartEvent();
    }
L0:
    ClearEventValue(8330, 5);
    ClearEventValue(8335, 5);
    EndEvent();
});

$Event(275, Restart, function() {
    EndIf(EventFlag(6287) && EventFlag(6288) && EventFlag(6289) && EventFlag(6275));
    WaitFixedTimeFrames(1);
    WaitFor(!EventFlag(8306) && (EventFlag(6281) || EventFlag(6286)));
    WaitFixedTimeFrames(1);
    GotoIf(L0, 
        (PlayerHasItem(ItemType.Goods, 5211)
            || PlayerHasItem(ItemType.Goods, 5311)
            || PlayerHasItem(ItemType.Goods, 5212)
            || PlayerHasItem(ItemType.Goods, 5312))
            && (PlayerHasItem(ItemType.Goods, 5201) || PlayerHasItem(ItemType.Goods, 5301))
            && !EventFlag(6287));
    WaitFixedTimeFrames(1);
    GotoIf(L1, 
        (PlayerHasItem(ItemType.Goods, 5212) || PlayerHasItem(ItemType.Goods, 5312))
            && (PlayerHasItem(ItemType.Goods, 5207) || PlayerHasItem(ItemType.Goods, 5307))
            && (PlayerHasItem(ItemType.Goods, 5210) || PlayerHasItem(ItemType.Goods, 5310))
            && !EventFlag(6288));
    WaitFixedTimeFrames(1);
    GotoIf(L2, 
        (PlayerHasItem(ItemType.Goods, 5211) || PlayerHasItem(ItemType.Goods, 5311))
            && !EventFlag(6289));
    WaitFixedTimeFrames(1);
    if (!((PlayerHasItem(ItemType.Goods, 5213) || PlayerHasItem(ItemType.Goods, 5313))
        && (PlayerHasItem(ItemType.Goods, 5220) || PlayerHasItem(ItemType.Goods, 5320))
        && (PlayerHasItem(ItemType.Goods, 5221) || PlayerHasItem(ItemType.Goods, 5321))
        && (PlayerHasItem(ItemType.Goods, 5222) || PlayerHasItem(ItemType.Goods, 5322))
        && !EventFlag(6275))) {
        RestartEvent();
L0:
        WaitFixedTimeSeconds(1);
        DisplayGenericDialogGloballyAndSetEventFlags(13024000, PromptType.OKCANCEL, NumberofOptions.OneButton, 6287, 0, 0);
        WaitFor(EventFlag(6287));
        RestartEvent();
L1:
        WaitFixedTimeSeconds(1);
        DisplayGenericDialogGloballyAndSetEventFlags(13024010, PromptType.OKCANCEL, NumberofOptions.OneButton, 6288, 0, 0);
        WaitFor(EventFlag(6288));
        RestartEvent();
L2:
        WaitFixedTimeSeconds(1);
        DisplayGenericDialogGloballyAndSetEventFlags(13024020, PromptType.OKCANCEL, NumberofOptions.OneButton, 6289, 0, 0);
        WaitFor(EventFlag(6289));
        RestartEvent();
    }
L3:
    WaitFixedTimeSeconds(1);
    DisplayGenericDialogGloballyAndSetEventFlags(13024030, PromptType.OKCANCEL, NumberofOptions.OneButton, 6275, 0, 0);
    WaitFor(EventFlag(6275));
    EndEvent();
});

$Event(279, Restart, function() {
    EndIf(EventFlag(6286));
    WaitFor(
        ((PlayerHasItem(ItemType.Goods, 5211) || PlayerHasItem(ItemType.Goods, 5311))
            || ((PlayerHasItem(ItemType.Goods, 5212) || PlayerHasItem(ItemType.Goods, 5312))
                && (PlayerHasItem(ItemType.Goods, 5201) || PlayerHasItem(ItemType.Goods, 5301)))
            || ((PlayerHasItem(ItemType.Goods, 5212) || PlayerHasItem(ItemType.Goods, 5312))
                && (PlayerHasItem(ItemType.Goods, 5207) || PlayerHasItem(ItemType.Goods, 5307))
                && (PlayerHasItem(ItemType.Goods, 5210) || PlayerHasItem(ItemType.Goods, 5310))))
            && !EventFlag(6280)
            && !EventFlag(8306));
    WaitFor(ElapsedSeconds(5));
    ShowTutorialText(0, 10024910, 10024911, 304);
    SetEventFlag(6286, ON);
    SetEventFlag(6038, ON);
    SetEventFlag(6040, ON);
    SetEventFlag(6070, ON);
    SetEventFlag(6072, ON);
});

$Event(280, Restart, function() {
    EndIf(EventFlag(6280));
    WaitFor(
        (PlayerHasItem(ItemType.Goods, 5200)
            || PlayerHasItem(ItemType.Goods, 5201)
            || PlayerHasItem(ItemType.Goods, 5300)
            || PlayerHasItem(ItemType.Goods, 5301))
            && !PlayerHasItem(ItemType.Goods, 5211)
            && !PlayerHasItem(ItemType.Goods, 5311)
            && !PlayerHasItem(ItemType.Goods, 5212)
            && !PlayerHasItem(ItemType.Goods, 5312));
    WaitFor(ElapsedSeconds(2));
    ShowTutorialText(0, 10024890, 10024891, 302);
    SetEventFlag(6280, ON);
    SetEventFlag(6038, ON);
    SetEventFlag(6070, ON);
});

$Event(281, Restart, function() {
    EndIf(EventFlag(6281));
    WaitFor(
        ((PlayerHasItem(ItemType.Goods, 5211) || PlayerHasItem(ItemType.Goods, 5311))
            || ((PlayerHasItem(ItemType.Goods, 5212) || PlayerHasItem(ItemType.Goods, 5312))
                && (PlayerHasItem(ItemType.Goods, 5201) || PlayerHasItem(ItemType.Goods, 5301)))
            || ((PlayerHasItem(ItemType.Goods, 5212) || PlayerHasItem(ItemType.Goods, 5312))
                && (PlayerHasItem(ItemType.Goods, 5207) || PlayerHasItem(ItemType.Goods, 5307))
                && (PlayerHasItem(ItemType.Goods, 5210) || PlayerHasItem(ItemType.Goods, 5310))))
            && EventFlag(6280));
    WaitFor(ElapsedSeconds(2));
    ShowTutorialText(0, 10024900, 10024901, 303);
    SetEventFlag(6281, ON);
    SetEventFlag(6040, ON);
    SetEventFlag(6072, ON);
});

$Event(283, Restart, function() {
    EndIf(EventFlag(6283));
    WaitFor(!EventFlag(8306) && !InArea(10000, 1102721) && ElapsedSeconds(4));
    ShowTutorialText(0, 10024880, 10024881, 300);
    SetEventFlag(6283, ON);
    SetEventFlag(6032, ON);
    SetEventFlag(6034, ON);
    SetEventFlag(6036, ON);
});

$Event(284, Restart, function() {
    EndIf(EventFlag(6284));
    WaitFor(
        PlayerHasItem(ItemType.Goods, 9800)
            || PlayerHasItem(ItemType.Goods, 9810)
            || PlayerHasItem(ItemType.Goods, 9820));
    WaitFixedTimeSeconds(2);
    ShowTutorialText(0, 10024920, 10024921, 301);
    SetEventFlag(6284, ON);
    SetEventFlag(6064, ON);
    SetEventFlag(6068, ON);
});

$Event(285, Restart, function() {
    EndIf(EventFlag(6042));
    WaitFor(
        (PlayerHasItem(ItemType.Goods, 5213) || PlayerHasItem(ItemType.Goods, 5313))
            && (PlayerHasItem(ItemType.Goods, 5220) || PlayerHasItem(ItemType.Goods, 5320))
            && (PlayerHasItem(ItemType.Goods, 5221) || PlayerHasItem(ItemType.Goods, 5321))
            && (PlayerHasItem(ItemType.Goods, 5222) || PlayerHasItem(ItemType.Goods, 5322)));
    SetEventFlag(6042, ON);
});

$Event(286, Restart, function() {
    EndIf(EventFlag(6044));
    WaitFor(PlayerHasItem(ItemType.Goods, 12000));
    SetEventFlag(6044, ON);
});

$Event(287, Restart, function() {
    EndIf(EventFlag(6046));
    WaitFor(PlayerHasItem(ItemType.Goods, 12010));
    SetEventFlag(6046, ON);
});

$Event(288, Restart, function() {
    EndIf(EventFlag(6048));
    WaitFor(PlayerHasItem(ItemType.Goods, 12020));
    SetEventFlag(6048, ON);
});

$Event(289, Restart, function() {
    WaitFor(EventFlag(2300));
    StoreItemAmountHeldInEventValue(ItemType.Goods, 12500, 6321, 2);
    EndIf(EventFlag(6321) && EventFlag(6322));
    WaitFor(CharacterHasSpEffect(10000, 110093));
    AwardItemLot(5830);
});

$Event(290, Restart, function() {
    if (EventFlag(6323)) {
        WaitFixedTimeSeconds(5);
        RemoveHintBox(2930);
        EndEvent();
    }
    WaitFixedTimeSeconds(1);
    WaitFor(EventFlag(2300) && EventFlag(6321) && !EventFlag(6322));
    ShowHintBox(2930, 10020310, 10020311);
    SetEventFlag(6323, ON);
    AwardItemLot(5830);
    WaitFixedTimeSeconds(4);
    RestartEvent();
});

$Event(295, Restart, function() {
    EndIf(PlayerHasItem(ItemType.Goods, 9810));
    WaitFor(
        (EventFlag(6830) || EventFlag(6831) || EventFlag(6832) || EventFlag(6833))
            && !EventFlag(8306)
            && CharacterBackreadStatus(10000));
    WaitFixedTimeSeconds(3);
    AwardItemLot(5710);
    AwardItemLot(5740);
});

$Event(296, Restart, function() {
    WaitFor(
        PlayerHasItem(ItemType.Goods, 12600)
            && !EventFlag(9439)
            && !EventFlag(2300)
            && ElapsedSeconds(2));
    if (!PlayerHasItem(ItemType.Goods, 2490)) {
        AwardItemLot(5760);
        AwardItemLot(5770);
        SetEventFlag(9439, ON);
    } else {
L0:
        AwardItemLot(5770);
        SetEventFlag(9439, ON);
        Goto(L1);
    }
L1:
    EndEvent();
});

$Event(297, Restart, function() {
    WaitFor(
        PlayerHasItem(ItemType.Goods, 12610)
            && !EventFlag(9440)
            && !EventFlag(2300)
            && ElapsedSeconds(2));
    if (!PlayerHasItem(ItemType.Goods, 9800)) {
        AwardItemLot(5700);
        AwardItemLot(5730);
        AwardItemLot(5780);
        SetEventFlag(9440, ON);
    } else {
L0:
        AwardItemLot(5780);
        SetEventFlag(9440, ON);
        Goto(L1);
    }
L1:
    EndEvent();
});

$Event(298, Restart, function() {
    WaitFor(
        PlayerHasItem(ItemType.Goods, 12620)
            && !EventFlag(9441)
            && !EventFlag(2300)
            && ElapsedSeconds(2));
    if (!PlayerHasItem(ItemType.Goods, 9820)) {
        AwardItemLot(5720);
        AwardItemLot(5750);
        AwardItemLot(5790);
        SetEventFlag(9441, ON);
    } else {
L0:
        AwardItemLot(5790);
        SetEventFlag(9441, ON);
        Goto(L1);
    }
L1:
    EndEvent();
});

$Event(299, Restart, function() {
    EndIf(EventFlag(6285));
    WaitFor(CharacterHasSpEffect(10000, 20));
    WaitFixedTimeSeconds(3);
    ShowTutorialText(0, 10024930, 10024931, 305);
    SetEventFlag(6285, ON);
});

$Event(300, Default, function(eventFlagId, timeSeconds, eventFlagId2, itemLotId, itemLotId2, itemLotId3) {
    EndIf(EventFlag(eventFlagId2));
    if (!EventFlag(eventFlagId)) {
        WaitFor(EventFlag(eventFlagId));
        WaitFixedTimeSeconds(timeSeconds);
        if (itemLotId != 0) {
            AwardItemsIncludingClients(itemLotId);
        }
        if (itemLotId2 != 0) {
            AwardItemsIncludingClients(itemLotId2);
        }
        if (itemLotId3 != 0) {
            AwardItemsIncludingClients(itemLotId3);
        }
    } else {
L0:
        WaitFixedTimeSeconds(3);
        if (itemLotId != 0) {
            AwardItemsIncludingClients(itemLotId);
        }
        if (itemLotId2 != 0) {
            AwardItemsIncludingClients(itemLotId2);
        }
        if (itemLotId3 != 0) {
            AwardItemsIncludingClients(itemLotId3);
        }
    }
L20:
    SetEventFlag(eventFlagId2, ON);
});

$Event(410, Default, function() {
    WaitFixedTimeFrames(5);
    GotoIf(L11, EventFlag(9200) || EventFlag(9207));
    GotoIf(S0, !EventFlag(9205));
    GotoIf(L4, EventFlag(9204));
S0:
    chr &= PlayerSwimState(SwimState.Swimming);
    GotoIf(L12, chr);
    GotoIf(L1, EventFlag(9201));
    GotoIf(L2, EventFlag(9202));
    GotoIf(L3, EventFlag(9203));
    GotoIf(L4, EventFlag(9204));
    musicFlagChr |= MapAlertMusicState(MusicStateType.Combat, true) || EventFlag(9208);
    GotoIf(L5, musicFlagChr);
    GotoIf(L6, MapAlertMusicState(MusicStateType.Ambient, true));
    GotoIf(L7, MapAlertMusicState(MusicStateType.Alert, true));
    GotoIf(L15, EventFlag(9209));
    Goto(L8);
L1:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    if (EventFlag(9210)) {
        SetMapSoundStateUnknown(1002681, true, false);
    }
    if (EventFlag(9211)) {
        SetMapSoundStateUnknown(1102681, true, false);
    }
    if (EventFlag(9213)) {
        SetMapSoundStateUnknown(1302681, true, false);
    }
    if (EventFlag(9215)) {
        SetMapSoundStateUnknown(1502681, true, false);
    }
    if (EventFlag(9217)) {
        SetMapSoundStateUnknown(1702681, true, false);
    }
    if (EventFlag(9220)) {
        SetMapSoundStateUnknown(2002681, true, false);
    }
    if (EventFlag(9225)) {
        SetMapSoundStateUnknown(2502681, true, false);
    }
    if (EventFlag(9230)) {
        SetMapSoundStateUnknown(1112681, true, false);
    }
    if (EventFlag(9231)) {
        SetMapSoundStateUnknown(1112681, true, false);
    }
    if (EventFlag(9235)) {
        SetMapSoundStateUnknown(1122681, true, false);
    }
    WaitFor(
        EventFlag(9200)
            || EventFlag(9207)
            || PlayerSwimState(SwimState.Swimming)
            || !EventFlag(9201));
    GotoIf(L11, EventFlag(9200));
    GotoIf(L11, EventFlag(9207));
    Goto(L13);
L2:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    if (EventFlag(9210)) {
        SetMapSoundStateUnknown(1002682, true, false);
    }
    if (EventFlag(9211)) {
        SetMapSoundStateUnknown(1102682, true, false);
    }
    if (EventFlag(9213)) {
        SetMapSoundStateUnknown(1302682, true, false);
    }
    if (EventFlag(9215)) {
        SetMapSoundStateUnknown(1502682, true, false);
    }
    if (EventFlag(9217)) {
        if (!EventFlag(11705660)) {
            SetMapSoundStateUnknown(1702682, true, false);
        }
        if (EventFlag(11705660)) {
            SetMapSoundStateUnknown(1702687, true, false);
        }
    }
    if (EventFlag(9220)) {
        SetMapSoundStateUnknown(2002682, true, false);
    }
    if (EventFlag(9225)) {
        SetMapSoundStateUnknown(2502682, true, false);
    }
    if (EventFlag(9230)) {
        SetMapSoundStateUnknown(1112682, true, false);
    }
    if (EventFlag(9231)) {
        SetMapSoundStateUnknown(1112682, true, false);
    }
    if (EventFlag(9235)) {
        SetMapSoundStateUnknown(1122682, true, false);
    }
    WaitFor(
        EventFlag(9200)
            || EventFlag(9207)
            || PlayerSwimState(SwimState.Swimming)
            || !EventFlag(9202));
    GotoIf(L11, EventFlag(9200));
    GotoIf(L11, EventFlag(9207));
    Goto(L13);
L3:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    if (EventFlag(9210)) {
        SetMapSoundStateUnknown(1002683, true, false);
    }
    if (EventFlag(9211)) {
        SetMapSoundStateUnknown(1102683, true, false);
    }
    if (EventFlag(9213)) {
        SetMapSoundStateUnknown(1302683, true, false);
    }
    if (EventFlag(9215)) {
        SetMapSoundStateUnknown(1502683, true, false);
    }
    if (EventFlag(9217)) {
        SetMapSoundStateUnknown(1702683, true, false);
    }
    if (EventFlag(9220)) {
        SetMapSoundStateUnknown(2002683, true, false);
    }
    if (EventFlag(9225)) {
        SetMapSoundStateUnknown(2502683, true, false);
    }
    if (EventFlag(9230)) {
        SetMapSoundStateUnknown(1112683, true, false);
    }
    if (EventFlag(9231)) {
        SetMapSoundStateUnknown(1112683, true, false);
    }
    if (EventFlag(9235)) {
        SetMapSoundStateUnknown(1122683, true, false);
    }
    WaitFor(
        EventFlag(9200)
            || EventFlag(9207)
            || PlayerSwimState(SwimState.Swimming)
            || !EventFlag(9203));
    GotoIf(L11, EventFlag(9200));
    GotoIf(L11, EventFlag(9207));
    Goto(L13);
L4:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    chr2 &= PlayerSwimState(SwimState.Swimming);
    if (chr2) {
        SetEventFlag(9205, ON);
    }
    if (EventFlag(9210)) {
        SetMapSoundStateUnknown(1002684, true, false);
    }
    if (EventFlag(9211)) {
        SetMapSoundStateUnknown(1102684, true, false);
    }
    if (EventFlag(9213)) {
        SetMapSoundStateUnknown(1302684, true, false);
    }
    if (EventFlag(9215)) {
        SetMapSoundStateUnknown(1502684, true, false);
    }
    if (EventFlag(9217)) {
        SetMapSoundStateUnknown(1702684, true, false);
    }
    if (EventFlag(9220)) {
        SetMapSoundStateUnknown(2002684, true, false);
    }
    if (EventFlag(9225)) {
        SetMapSoundStateUnknown(2502684, true, false);
    }
    if (EventFlag(9230)) {
        SetMapSoundStateUnknown(1112684, true, false);
    }
    if (EventFlag(9231)) {
        SetMapSoundStateUnknown(1112684, true, false);
    }
    if (EventFlag(9235)) {
        SetMapSoundStateUnknown(1122684, true, false);
    }
    flagChr |= EventFlag(9200) || EventFlag(9207);
    if (!EventFlag(9205)) {
        flagChr |= PlayerSwimState(SwimState.Swimming);
    }
    flagChr |= !EventFlag(9204);
    WaitFor(flagChr);
    GotoIf(L11, EventFlag(9200));
    GotoIf(L11, EventFlag(9207));
    GotoIf(L12, EventFlag(9205));
    chr2 &= PlayerSwimState(SwimState.Swimming);
    GotoIf(L12, chr2);
    Goto(L13);
L5:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    if (EventFlag(9210)) {
        SetMapSoundStateUnknown(1002680, true, false);
    }
    if (EventFlag(9211)) {
        if (!EventFlag(8302)) {
            SetMapSoundStateUnknown(1102680, true, false);
        }
        if (EventFlag(8302)) {
            SetMapSoundStateUnknown(1102686, true, false);
        }
    }
    if (EventFlag(9213)) {
        SetMapSoundStateUnknown(1302680, true, false);
    }
    if (EventFlag(9215)) {
        SetMapSoundStateUnknown(1502680, true, false);
    }
    if (EventFlag(9217)) {
        SetMapSoundStateUnknown(1702680, true, false);
    }
    if (EventFlag(9220)) {
        SetMapSoundStateUnknown(2002680, true, false);
    }
    if (EventFlag(9225)) {
        SetMapSoundStateUnknown(2502680, true, false);
    }
    if (EventFlag(9230)) {
        if (!EventFlag(8301)) {
            SetMapSoundStateUnknown(1112680, true, false);
        }
        if (EventFlag(8302)) {
            SetMapSoundStateUnknown(1112686, true, false);
        } else if (EventFlag(8301)) {
            SetMapSoundStateUnknown(1112685, true, false);
        }
    }
    if (EventFlag(9235)) {
        if (!EventFlag(8302)) {
            SetMapSoundStateUnknown(1122680, true, false);
        }
        if (EventFlag(8302)) {
            SetMapSoundStateUnknown(1122685, true, false);
        }
    }
    musicFlagChr |= EventFlag(9200)
        || EventFlag(9207)
        || PlayerSwimState(SwimState.Swimming)
        || EventFlag(9201)
        || EventFlag(9202)
        || EventFlag(9203)
        || EventFlag(9204);
    musicFlagChr |= !EventFlag(9208) && MapAlertMusicState(MusicStateType.Combat, false);
    WaitFor(musicFlagChr);
    GotoIf(L11, EventFlag(9200));
    GotoIf(L11, EventFlag(9207));
    RestartIf(EventFlag(9202));
    RestartIf(EventFlag(9203));
    RestartIf(EventFlag(9204));
    Goto(L13);
L6:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    if (EventFlag(9210)) {
        SetMapSoundStateUnknown(1002688, true, false);
    }
    if (EventFlag(9211)) {
        SetMapSoundStateUnknown(1102688, true, false);
    }
    if (EventFlag(9213)) {
        SetMapSoundStateUnknown(1302688, true, false);
    }
    if (EventFlag(9215)) {
        SetMapSoundStateUnknown(1502688, true, false);
    }
    if (EventFlag(9217)) {
        SetMapSoundStateUnknown(1702688, true, false);
    }
    if (EventFlag(9220)) {
        SetMapSoundStateUnknown(2002688, true, false);
    }
    if (EventFlag(9225)) {
        SetMapSoundStateUnknown(2502688, true, false);
    }
    if (EventFlag(9230)) {
        SetMapSoundStateUnknown(1112688, true, false);
    }
    if (EventFlag(9231)) {
        SetMapSoundStateUnknown(1112688, true, false);
    }
    if (EventFlag(9235)) {
        SetMapSoundStateUnknown(1122688, true, false);
    }
    WaitFor(
        EventFlag(9200)
            || EventFlag(9207)
            || PlayerSwimState(SwimState.Swimming)
            || EventFlag(9201)
            || EventFlag(9202)
            || EventFlag(9203)
            || EventFlag(9204)
            || MapAlertMusicState(MusicStateType.Combat, true)
            || EventFlag(9208)
            || MapAlertMusicState(MusicStateType.Ambient, false));
    RestartEvent();
L7:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    if (EventFlag(9210)) {
        SetMapSoundStateUnknown(1002689, true, false);
    }
    if (EventFlag(9211)) {
        SetMapSoundStateUnknown(1102689, true, false);
    }
    if (EventFlag(9213)) {
        SetMapSoundStateUnknown(1302689, true, false);
    }
    if (EventFlag(9215)) {
        SetMapSoundStateUnknown(1502689, true, false);
    }
    if (EventFlag(9217)) {
        SetMapSoundStateUnknown(1702689, true, false);
    }
    if (EventFlag(9220)) {
        SetMapSoundStateUnknown(2002689, true, false);
    }
    if (EventFlag(9225)) {
        SetMapSoundStateUnknown(2502689, true, false);
    }
    if (EventFlag(9230)) {
        SetMapSoundStateUnknown(1112689, true, false);
    }
    if (EventFlag(9231)) {
        SetMapSoundStateUnknown(1112689, true, false);
    }
    if (EventFlag(9235)) {
        SetMapSoundStateUnknown(1122689, true, false);
    }
    WaitFor(
        EventFlag(9200)
            || EventFlag(9207)
            || PlayerSwimState(SwimState.Swimming)
            || EventFlag(9201)
            || EventFlag(9202)
            || EventFlag(9203)
            || EventFlag(9204)
            || MapAlertMusicState(MusicStateType.Combat, true)
            || EventFlag(9208)
            || MapAlertMusicState(MusicStateType.Ambient, true)
            || MapAlertMusicState(MusicStateType.Alert, false));
    RestartEvent();
L8:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    if (EventFlag(9100)) {
        if (EventFlag(9260)) {
            flagArea |= EventFlag(11000695);
            GotoIf(L9, flagArea);
        }
        if (EventFlag(9261)) {
            flagArea |= InArea(10000, 1102695);
            GotoIf(L9, flagArea);
        }
        if (EventFlag(9267)) {
            flagArea |= InArea(10000, 1702695);
            GotoIf(L9, flagArea);
        }
        if (EventFlag(9260)) {
            SetMapSoundStateUnknown(1002690, true, false);
        }
        if (EventFlag(9261)) {
            if (!EventFlag(8302)) {
                SetMapSoundStateUnknown(1102690, true, false);
            }
            if (EventFlag(8302)) {
                SetMapSoundStateUnknown(1102692, true, false);
            }
        }
        if (EventFlag(9265)) {
            SetMapSoundStateUnknown(1502690, true, false);
        }
        if (EventFlag(9267)) {
            SetMapSoundStateUnknown(1702690, true, false);
        }
        if (EventFlag(9270)) {
            SetMapSoundStateUnknown(2002690, true, false);
        }
        if (EventFlag(9275)) {
            SetMapSoundStateUnknown(2502690, true, false);
        }
        if (EventFlag(9280)) {
            if (!EventFlag(8301)) {
                SetMapSoundStateUnknown(1112690, true, false);
            }
            if (EventFlag(8302)) {
                SetMapSoundStateUnknown(1112692, true, false);
            } else if (EventFlag(8301)) {
                SetMapSoundStateUnknown(1112691, true, false);
            }
        }
        if (EventFlag(9285)) {
            if (!EventFlag(8302)) {
                SetMapSoundStateUnknown(1122690, true, false);
            }
            if (EventFlag(8302)) {
                SetMapSoundStateUnknown(1122691, true, false);
            }
        }
        RestartEvent();
L9:
        ClearCompiledConditionGroupState(0);
        WaitFixedTimeFrames(1);
        if (EventFlag(9260)) {
            if (!EventFlag(8304)) {
                SetMapSoundStateUnknown(1002691, true, false);
            }
            if (EventFlag(8304)) {
                SetMapSoundStateUnknown(1002692, true, false);
            }
        }
        if (EventFlag(9261)) {
            SetMapSoundStateUnknown(1102691, true, false);
        }
        if (EventFlag(9267)) {
            SetMapSoundStateUnknown(1702691, true, false);
        }
        if (EventFlag(9260)) {
            flagArea2 &= !EventFlag(11000695);
        }
        if (EventFlag(9261)) {
            flagArea2 &= !InArea(10000, 1102695);
        }
        if (EventFlag(9267)) {
            flagArea2 &= !InArea(10000, 1702695);
        }
        WaitFor(
            flagArea2
                || !EventFlag(9100)
                || EventFlag(9200)
                || EventFlag(9207)
                || EventFlag(9201)
                || EventFlag(9202)
                || EventFlag(9203)
                || EventFlag(9204)
                || EventFlag(9209)
                || PlayerSwimState(SwimState.Swimming)
                || MapAlertMusicState(MusicStateType.Combat, true)
                || EventFlag(9208)
                || MapAlertMusicState(MusicStateType.Ambient, true)
                || MapAlertMusicState(MusicStateType.Alert, true));
        RestartEvent();
    }
L10:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    SetMapSoundFadeOutTime(1.7);
    SetMapSoundStateUnknown(-1, false, false);
    RestartEvent();
L11:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    SetMapSoundFadeOutTime(3);
    SetMapSoundStateUnknown(-1, false, false);
    WaitFor(!EventFlag(9200) && !EventFlag(9207));
    RestartEvent();
L12:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    SetMapSoundFadeOutTime(1.8);
    SetMapSoundStateUnknown(-1, false, false);
    flag = EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9204);
    chr &= PlayerSwimState(SwimState.Swimming);
    WaitFor(flag || !chr);
    if (!EventFlag(9204)) {
        SetEventFlag(9205, OFF);
        RestartEvent();
    }
    RestartIf(!flag.Passed);
    GotoIf(S1, !EventFlag(9204));
    SetEventFlag(9205, ON);
    RestartEvent();
S1:
L13:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    SetMapSoundFadeOutTime(0.7);
    SetMapSoundStateUnknown(-1, false, false);
    WaitFor(
        ElapsedSeconds(2)
            || MapAlertMusicState(MusicStateType.Combat, true)
            || EventFlag(9200)
            || EventFlag(9207)
            || EventFlag(9208)
            || PlayerSwimState(SwimState.Swimming));
    WaitFor(
        ElapsedSeconds(1)
            || MapAlertMusicState(MusicStateType.Combat, true)
            || EventFlag(9200)
            || EventFlag(9207)
            || EventFlag(9208)
            || MapAlertMusicState(MusicStateType.Ambient, true)
            || MapAlertMusicState(MusicStateType.Alert, true)
            || PlayerSwimState(SwimState.Swimming));
    RestartEvent();
L15:
    ClearCompiledConditionGroupState(0);
    WaitFixedTimeFrames(1);
    SetMapSoundFadeOutTime(3);
    SetMapSoundStateUnknown(-1, false, false);
    WaitFor(
        EventFlag(9200)
            || EventFlag(9207)
            || EventFlag(9201)
            || EventFlag(9202)
            || EventFlag(9203)
            || EventFlag(9204)
            || !EventFlag(9209)
            || MapAlertMusicState(MusicStateType.Combat, true)
            || EventFlag(9208)
            || MapAlertMusicState(MusicStateType.Ambient, true)
            || MapAlertMusicState(MusicStateType.Alert, true));
    RestartEvent();
});

$Event(411, Default, function() {
    SetEventFlag(9210, OFF);
    SetEventFlag(9211, OFF);
    SetEventFlag(9213, OFF);
    SetEventFlag(9215, OFF);
    SetEventFlag(9217, OFF);
    SetEventFlag(9220, OFF);
    SetEventFlag(9225, OFF);
    SetEventFlag(9230, OFF);
    SetEventFlag(9231, OFF);
    SetEventFlag(9235, OFF);
    GotoIf(L1, PlayerInMap(10, 0));
    GotoIf(L2, PlayerInMap(11, 0));
    GotoIf(L3, PlayerInMap(13, 0));
    GotoIf(L4, PlayerInMap(15, 0));
    GotoIf(L5, PlayerInMap(17, 0));
    GotoIf(L6, PlayerInMap(20, 0));
    GotoIf(L7, PlayerInMap(25, 0));
    GotoIf(L8, PlayerInMap(11, 1));
    GotoIf(L10, PlayerInMap(11, 2));
    WaitFor(PlayerHasChangedMap());
    RestartEvent();
L1:
    SetEventFlag(9210, ON);
    WaitFor(!PlayerInMap(10, 0));
    Goto(L20);
L2:
    SetEventFlag(9211, ON);
    WaitFor(!PlayerInMap(11, 0));
    Goto(L20);
L3:
    SetEventFlag(9213, ON);
    WaitFor(!PlayerInMap(13, 0));
    Goto(L20);
L4:
    SetEventFlag(9215, ON);
    WaitFor(!PlayerInMap(15, 0));
    Goto(L20);
L5:
    SetEventFlag(9217, ON);
    WaitFor(!PlayerInMap(17, 0));
    Goto(L20);
L6:
    SetEventFlag(9220, ON);
    WaitFor(!PlayerInMap(20, 0));
    Goto(L20);
L7:
    SetEventFlag(9225, ON);
    WaitFor(!PlayerInMap(25, 0));
    Goto(L20);
L8:
    SetEventFlag(9230, ON);
    WaitFor(!PlayerInMap(11, 1) || InArea(10000, 1112569));
    GotoIf(L18, InArea(10000, 1112569));
    Goto(L20);
L10:
    SetEventFlag(9235, ON);
    WaitFor(!PlayerInMap(11, 2));
    Goto(L20);
L18:
    SetEventFlag(9230, OFF);
    WaitFixedTimeFrames(1);
    SetEventFlag(9217, ON);
    WaitFixedTimeSeconds(3);
    RestartEvent();
L20:
    WaitFixedTimeSeconds(1);
    RestartEvent();
});

$Event(412, Default, function() {
    SetEventFlag(9110, OFF);
    SetEventFlag(9260, OFF);
    SetEventFlag(9261, OFF);
    SetEventFlag(9263, OFF);
    SetEventFlag(9265, OFF);
    SetEventFlag(9267, OFF);
    SetEventFlag(9270, OFF);
    SetEventFlag(9275, OFF);
    SetEventFlag(9280, OFF);
    SetEventFlag(9281, OFF);
    SetEventFlag(9285, OFF);
    GotoIf(L1, PlayerInMap(10, 0));
    GotoIf(L2, PlayerInMap(11, 0));
    GotoIf(L3, PlayerInMap(13, 0));
    GotoIf(L4, PlayerInMap(15, 0));
    GotoIf(L5, PlayerInMap(17, 0));
    GotoIf(L6, PlayerInMap(20, 0));
    GotoIf(L7, PlayerInMap(25, 0));
    GotoIf(L8, PlayerInMap(11, 1));
    GotoIf(L10, PlayerInMap(11, 2));
L1:
    SetEventFlag(9260, ON);
    Goto(L20);
L2:
    SetEventFlag(9261, ON);
    Goto(L20);
L3:
    SetEventFlag(9263, ON);
    Goto(L20);
L4:
    SetEventFlag(9265, ON);
    Goto(L20);
L5:
    SetEventFlag(9267, ON);
    Goto(L20);
L6:
    SetEventFlag(9270, ON);
    Goto(L20);
L7:
    SetEventFlag(9275, ON);
    Goto(L20);
L8:
    SetEventFlag(9280, ON);
    Goto(L20);
L10:
    SetEventFlag(9285, ON);
    Goto(L20);
L20:
    WaitFor(
        MusicTransitioningBetweenMaps()
            || EventFlag(9110)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9209));
    WaitFixedTimeFrames(1);
    RestartEvent();
});

$Event(420, Default, function() {
    if (!(!PlayerHasItem(ItemType.Goods, 3350) && !EventFlag(6730) && !EventFlag(51100950))) {
        SetEventFlag(6730, ON);
        SetEventFlag(51100950, ON);
    }
    if (!(!PlayerHasItem(ItemType.Goods, 3800) && !EventFlag(6718) && !EventFlag(51300910))) {
        SetEventFlag(6718, ON);
        SetEventFlag(51300910, ON);
    }
    if (!(!PlayerHasItem(ItemType.Goods, 3380) && !EventFlag(6733) && !EventFlag(51700990))) {
        SetEventFlag(6733, ON);
        SetEventFlag(51700990, ON);
    }
    if (!(!PlayerHasItem(ItemType.Goods, 3390) && !EventFlag(6734) && !EventFlag(51500910))) {
        SetEventFlag(6734, ON);
        SetEventFlag(51500910, ON);
    }
    if (!(!PlayerHasItem(ItemType.Goods, 3370) && !EventFlag(6732) && !EventFlag(51110973))) {
        SetEventFlag(6732, ON);
        SetEventFlag(51110973, ON);
    }
    if (!(!PlayerHasItem(ItemType.Goods, 3360) && !EventFlag(6731) && !EventFlag(52500940))) {
        SetEventFlag(6731, ON);
        SetEventFlag(52500940, ON);
    }
    SetEventFlag(6420, ON);
});

$Event(450, Restart, function(eventFlagId, itemType, itemId, skillparamId) {
    EndIf(EventFlag(eventFlagId));
    WaitFor(PlayerHasItem(itemType, itemId));
    GrantSkill(skillparamId);
    SetEventFlag(eventFlagId, ON);
});

$Event(460, Restart, function(eventFlagId, itemId, skillparamId) {
    EndIf(EventFlag(eventFlagId));
    WaitFor(PlayerHasItem(ItemType.Goods, itemId));
    GrantSkill(skillparamId);
    SetEventFlag(eventFlagId, ON);
});

$Event(470, Restart, function(itemId, itemLotId) {
    EndIf(ThisEventSlot());
    WaitFor(PlayerHasItem(ItemType.Goods, itemId));
    AwardItemLot(itemLotId);
});

$Event(600, Restart, function() {
    WaitFor(!EventFlag(8306) && CharacterDead(10000));
    SetEventFlag(601, ON);
    if (!EventFlag(60)) {
        SetEventFlag(60, ON);
        EndEvent();
    }
    if (!EventFlag(61)) {
        SetEventFlag(61, ON);
        EndEvent();
    }
    if (!EventFlag(62)) {
        SetEventFlag(62, ON);
        EndEvent();
    }
    if (!EventFlag(63)) {
        SetEventFlag(63, ON);
        EndEvent();
    }
    if (!EventFlag(64)) {
        SetEventFlag(64, ON);
        EndEvent();
    }
    if (!EventFlag(65)) {
        SetEventFlag(65, ON);
        EndEvent();
    }
    if (!EventFlag(66)) {
        SetEventFlag(66, ON);
        EndEvent();
    }
    if (!EventFlag(67)) {
        SetEventFlag(67, ON);
        EndEvent();
    }
    if (!EventFlag(68)) {
        SetEventFlag(68, ON);
        EndEvent();
    }
    if (!EventFlag(69)) {
        SetEventFlag(69, ON);
        EndEvent();
    }
});

$Event(610, Restart, function() {
    SetNetworkSyncState(Disabled);
    EndIf(EventFlag(8310));
    if (!EventFlag(59)) {
        if (EventFlag(8306)) {
            SetEventFlag(9500, ON);
            EndEvent();
        }
    }
L0:
    SetEventFlag(9500, OFF);
});

$Event(611, Restart, function() {
    if (EventFlag(6101)) {
        SetEventFlag(9501, OFF);
        EndEvent();
    }
L0:
    WaitFor(!EventFlag(8306) && !EventFlag(6101) && EventFlag(60));
    SetEventFlag(9501, ON);
    SetEventFlag(6101, ON);
    SetEventFlag(612, ON);
});

$Event(615, Restart, function() {
    if (EventFlag(6102)) {
        SetEventFlag(9502, OFF);
        EndEvent();
    }
L0:
    WaitFor(!EventFlag(8306) && !EventFlag(6102) && EventFlag(62));
    SetEventFlag(9502, ON);
    SetEventFlag(6102, ON);
});

$Event(616, Restart, function() {
    WaitFor(EventFlag(9505));
    SetEventFlag(9502, OFF);
    SetEventFlag(6102, ON);
    WaitFixedTimeSeconds(3);
    SetEventFlag(9505, OFF);
    DisplayBanner(TextBannerType.UnseenAid);
});

$Event(620, Restart, function() {
    if (ThisEvent()) {
        SetEventFlag(9512, OFF);
        EndEvent();
    }
L0:
    WaitFor(
        ((GameCycle() == 0 && EventFlag(63)) || (GameCycle() != 0 && EventFlag(60)))
            && !EventFlag(8306));
    if (!EventFlag(8302)) {
        SetEventFlag(9512, ON);
        SetEventFlag(621, ON);
    }
    SetEventFlag(6103, ON);
    SetEventFlag(9501, ON);
});

$Event(622, Restart, function() {
    WaitFor(!EventFlag(8306) && EventFlag(6103));
    SetEventFlag(9511, OFF);
});

$Event(623, Restart, function() {
    WaitFor(CharacterHasEventMessage(10000, 70));
    DisplayBanner(TextBannerType.DragonrotHealed);
    WaitFor(CharacterHasEventMessage(10000, 80));
    SetEventFlag(624, ON);
    RestartEvent();
});

$Event(625, Restart, function() {
    if (EventFlag(8302)) {
        BatchSetNetworkconnectedEventFlags(70003300, 70003499, OFF);
        EndEvent();
    }
L0:
    WaitFor(
        EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9800)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9801)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9802));
    BatchSetNetworkconnectedEventFlags(70003300, 70003499, OFF);
    BatchSetNetworkconnectedEventFlags(70003500, 70003509, OFF);
    RestartEvent();
});

$Event(626, Restart, function() {
    WaitFor(EventFlag(627));
    ResetDragonrotCounter();
    BatchSetEventFlags(70, 75, ON);
    GotoIf(L0, EventFlag(71111130));
    GotoIf(L1, EventFlag(71101320));
    GotoIf(L2, EventFlag(71102160));
    GotoIf(L3, EventFlag(72001140));
    GotoIf(L4, EventFlag(71701110));
    GotoIf(L0, EventFlag(71111070));
    GotoIf(L1, EventFlag(71101240));
    GotoIf(L2, EventFlag(71102101));
    GotoIf(L3, EventFlag(72001080));
    GotoIf(L4, EventFlag(71701051));
    Goto(L20);
L0:
    SetEventFlag(9092, OFF);
    SetEventFlag(9097, ON);
    SetEventFlag(71111130, OFF);
    SetEventFlag(71111070, OFF);
    Goto(L20);
L1:
    SetEventFlag(9090, OFF);
    SetEventFlag(9095, ON);
    SetEventFlag(71101320, OFF);
    SetEventFlag(71101240, OFF);
    Goto(L20);
L2:
    SetEventFlag(9091, OFF);
    SetEventFlag(9096, ON);
    SetEventFlag(71102160, OFF);
    SetEventFlag(71102101, OFF);
    Goto(L20);
L3:
    SetEventFlag(9093, OFF);
    SetEventFlag(9098, ON);
    SetEventFlag(72001140, OFF);
    SetEventFlag(72001080, OFF);
    Goto(L20);
L4:
    SetEventFlag(9094, OFF);
    SetEventFlag(9099, ON);
    SetEventFlag(71701110, OFF);
    SetEventFlag(71701051, OFF);
    Goto(L20);
L20:
    SetEventFlag(627, OFF);
    WaitFixedTimeFrames(1);
    RestartEvent();
});

$Event(628, Restart, function() {
    EndIf(!EventFlag(601));
    EndIf(!AnyBatchEventFlags(70, 75));
    SetEventFlag(601, OFF);
    ResetDragonrotCounter();
    if (EventFlag(75)) {
        SetEventFlag(75, OFF);
        EndEvent();
    }
    if (EventFlag(74)) {
        SetEventFlag(74, OFF);
        EndEvent();
    }
    if (EventFlag(73)) {
        SetEventFlag(73, OFF);
        EndEvent();
    }
    if (EventFlag(72)) {
        SetEventFlag(72, OFF);
        EndEvent();
    }
    if (EventFlag(71)) {
        SetEventFlag(71, OFF);
        EndEvent();
    }
    if (EventFlag(70)) {
        SetEventFlag(70, OFF);
        EndEvent();
    }
});

$Event(700, Default, function() {
    EndIf(ThisEventSlot());
    SetEventFlag(9040, ON);
    SetEventFlag(9090, ON);
    SetEventFlag(9091, ON);
    SetEventFlag(9092, ON);
    SetEventFlag(9093, ON);
    SetEventFlag(9094, ON);
    if (GameCycle() > 0) {
        SetEventFlag(59, ON);
    }
    if (GameCycle() >= 8) {
        SetEventFlag(58, ON);
        EndEvent();
    }
    if (GameCycle() == 7) {
        SetEventFlag(57, ON);
        EndEvent();
    }
    if (GameCycle() == 6) {
        SetEventFlag(56, ON);
        EndEvent();
    }
    if (GameCycle() == 5) {
        SetEventFlag(55, ON);
        EndEvent();
    }
    if (GameCycle() == 4) {
        SetEventFlag(54, ON);
        EndEvent();
    }
    if (GameCycle() == 3) {
        SetEventFlag(53, ON);
        EndEvent();
    }
    if (GameCycle() == 2) {
        SetEventFlag(52, ON);
        EndEvent();
    }
    if (GameCycle() == 1) {
        SetEventFlag(51, ON);
        EndEvent();
    }
    SetEventFlag(50, ON);
    EndEvent();
});

$Event(701, Restart, function() {
    WaitFor(
        (CharacterHasSpEffect(10000, 4200) && CharacterHasSpEffect(10000, 109200))
            || (CharacterHasSpEffect(10000, 4201)
                && (PlayerSwimState(SwimState.Diving) || PlayerSwimState(SwimState.Swimming)))
            || (CharacterHasSpEffect(10000, 100210) && CharacterHasSpEffect(10000, 109200)));
    SetSpEffect(10000, 109203);
    WaitFor(
        !(CharacterHasSpEffect(10000, 4200) && CharacterHasSpEffect(10000, 109200))
            && !(CharacterHasSpEffect(10000, 4201)
                && (PlayerSwimState(SwimState.Diving) || PlayerSwimState(SwimState.Swimming)))
            && !(CharacterHasSpEffect(10000, 100210) && CharacterHasSpEffect(10000, 109200)));
    ClearSpEffect(10000, 109203);
    RestartEvent();
});

$Event(702, Restart, function() {
    SetNetworkSyncState(Disabled);
    ChangeCamera(-1, -1);
    SetAreaCamerasetparamSubid(-1);
});

$Event(710, Restart, function() {
    EndIf(EventFlag(6020));
    WaitFor(PlayerHasItem(ItemType.Goods, 9061));
    SetEventFlag(6020, ON);
});

$Event(711, Restart, function() {
    EndIf(EventFlag(6021));
    WaitFor(PlayerHasItem(ItemType.Goods, 9060));
    SetEventFlag(6021, ON);
});

$Event(712, Restart, function() {
    EndIf(EventFlag(9041));
    WaitFor(EventFlag(6021) || EventFlag(71100253));
    SetEventFlag(9041, ON);
});

$Event(713, Restart, function() {
    EndIf(EventFlag(6022));
    WaitFor(
        PlayerHasItem(ItemType.Goods, 5500)
            && PlayerHasItem(ItemType.Goods, 5501)
            && PlayerHasItem(ItemType.Goods, 5502)
            && !CharacterHasSpEffect(10000, 30700));
    AwardItemLot(3800);
    RemoveItemFromPlayer(ItemType.Goods, 5500, 1);
    RemoveItemFromPlayer(ItemType.Goods, 5501, 1);
    RemoveItemFromPlayer(ItemType.Goods, 5502, 1);
    SetEventFlag(6022, ON);
});

$Event(714, Restart, function() {
    SetEventFlag(9008, OFF);
    EndIf(
        EventFlag(6719)
            && EventFlag(6766)
            && EventFlag(6767)
            && EventFlag(6500)
            && EventFlag(6508)
            && EventFlag(6723)
            && EventFlag(6741)
            && EventFlag(6760)
            && EventFlag(6762)
            && EventFlag(6769)
            && EventFlag(6506)
            && EventFlag(6780));
    flag &= !EventFlag(71102200) && EventFlag(9020);
    if (!flag) {
        WaitFor(!flag);
        ClearCompiledConditionGroupState(0);
        flag &= !EventFlag(71102210) && EventFlag(9021);
        GotoIf(L0, flag);
        WaitFor(!flag);
        ClearCompiledConditionGroupState(0);
        flag &= !EventFlag(71102220) && EventFlag(9022);
        GotoIf(L0, flag);
        WaitFor(!flag);
        ClearCompiledConditionGroupState(0);
        flag &= !EventFlag(71102230) && EventFlag(9023);
        GotoIf(L0, flag);
        WaitFor(!flag);
        ClearCompiledConditionGroupState(0);
        flag &= !EventFlag(71102240) && EventFlag(9024);
        GotoIf(L0, flag);
        WaitFor(!flag);
        ClearCompiledConditionGroupState(0);
        flag &= !EventFlag(71102250) && EventFlag(9025);
        GotoIf(L0, flag);
        WaitFor(!flag);
        ClearCompiledConditionGroupState(0);
        flag &= !EventFlag(71102260) && EventFlag(9026);
        GotoIf(L0, flag);
        WaitFor(!flag);
        ClearCompiledConditionGroupState(0);
        flag &= !EventFlag(71102270) && EventFlag(9027);
        GotoIf(L0, flag);
        WaitFor(!flag);
        ClearCompiledConditionGroupState(0);
        flag &= !EventFlag(71102280) && EventFlag(9028);
        GotoIf(L0, flag);
        WaitFor(!flag);
        ClearCompiledConditionGroupState(0);
        flag &= !EventFlag(71102290) && EventFlag(9029);
        GotoIf(L0, flag);
        WaitFor(!flag);
        ClearCompiledConditionGroupState(0);
        flag &= !EventFlag(71102340) && EventFlag(9034);
        GotoIf(L0, flag);
        WaitFor(!flag);
        ClearCompiledConditionGroupState(0);
        flag &= !EventFlag(71102350) && EventFlag(9035);
        GotoIf(L0, flag);
        WaitFor(!flag);
        ClearCompiledConditionGroupState(0);
    } else {
L0:
        SetEventFlag(9008, ON);
    }
L20:
    WaitFor(
        EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 71102200)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 71102210)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 71102220)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 71102230)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 71102240)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 71102250)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 71102260)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 71102270)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 71102280)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 71102290)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 71102340)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 71102350)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9020)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9021)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9022)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9023)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9024)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9025)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9026)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9027)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9028)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9029)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9034)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9035));
    RestartEvent();
});

$Event(715, Default, function(eventFlagId, eventFlagId2) {
    EndIf(PlayerIsNotInOwnWorld());
    WaitFor(EventFlag(eventFlagId) && EventFlag(eventFlagId2));
    SetEventFlag(eventFlagId, OFF);
    RestartEvent();
});

$Event(720, Default, function(eventFlagId, eventFlagId2, eventFlagId3, eventFlagId4) {
    EndIf(EventFlag(eventFlagId) || EventFlag(eventFlagId2));
    flag &= !EventFlag(eventFlagId) && EventFlag(eventFlagId3);
    if (eventFlagId4 > 0) {
        flag &= EventFlag(eventFlagId4);
    }
    WaitFor(flag);
    SetEventFlag(eventFlagId2, ON);
});

$Event(745, Default, function() {
    SetEventFlag(9037, OFF);
    EndEvent();
});

$Event(746, Default, function() {
    SetEventFlag(9038, OFF);
    EndEvent();
});

$Event(747, Default, function() {
    SetEventFlag(9039, OFF);
    EndEvent();
});

$Event(748, Default, function() {
    EndEvent();
});

$Event(749, Default, function() {
    EndEvent();
});

$Event(750, Default, function(eventFlagId, eventFlagId2) {
    EndIf(EventFlag(eventFlagId) && EventFlag(eventFlagId2));
    WaitFor(EventFlag(eventFlagId) || EventFlag(eventFlagId2));
    SetEventFlag(eventFlagId, ON);
    SetEventFlag(eventFlagId2, ON);
});

$Event(800, Restart, function() {
    if (EventFlag(6911)) {
        SetSpEffect(10000, 8610);
    } else {
L0:
        ClearSpEffect(10000, 8610);
        Goto(L1);
    }
L1:
    WaitFor(ElapsedSeconds(1) || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 6911));
    RestartEvent();
});

$Event(801, Restart, function() {
    if (EventFlag(9830)) {
        SetSpEffect(10000, 8600);
    } else {
L0:
        ClearSpEffect(10000, 8600);
        Goto(L1);
    }
L1:
    WaitFor(ElapsedSeconds(1) || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9830));
    RestartEvent();
});

$Event(802, Restart, function() {
    WaitFor(EventFlag(2300) && PlayerHasItem(ItemType.Goods, 3730) && !EventFlag(9830));
    SetEventFlag(9830, ON);
    RestartEvent();
});

$Event(803, Restart, function() {
    EndIf(!EventFlag(2300));
    WaitFor(!CharacterHasSpEffect(10000, 118700));
    SetSpEffect(10000, 118700);
});

$Event(810, Restart, function() {
    SetNetworkSyncState(Disabled);
    SetEventFlag(9520, OFF);
    WaitFor(EventFlag(9520));
    SetEventFlag(9520, OFF);
    DisableLoadingScreenTips(true);
    SetEventFlag(30, ON);
});

$Event(811, Restart, function() {
    SetNetworkSyncState(Disabled);
    WaitFor(PlayerInMap(11, 0));
    DisableLoadingScreenTips(false);
});

$Event(812, Restart, function() {
    EndIf(ThisEvent());
    SetNetworkSyncState(Disabled);
    WaitFor(PlayerInMap(11, 0) && EventFlag(11120100) && EventFlag(6901));
    GotoIf(L0, EventFlag(11110100));
    GotoIf(L1, EventFlag(11120110));
L0:
    SetAreaEnvmap(3);
    WaitFixedTimeFrames(1);
    SetEventFlag(9530, OFF);
    EndEvent();
L1:
    SetAreaEnvmap(4);
    WaitFixedTimeFrames(1);
    SetEventFlag(9530, OFF);
    EndEvent();
});

$Event(820, Default, function() {
    flag = CountEventFlags(TargetEventFlagType.EventFlag, 9303, 9306) == 1 && !EventFlag(9800);
    flag2 = CountEventFlags(TargetEventFlagType.EventFlag, 9303, 9306) == 3 && !EventFlag(9801);
    GotoIf(L1, flag);
    GotoIf(L2, flag2);
    Goto(L20);
L1:
    SetEventFlag(9800, ON);
    Goto(L20);
L2:
    SetEventFlag(9800, ON);
    SetEventFlag(9801, ON);
    Goto(L20);
L20:
    WaitFor(PlayerHasChangedMap());
    RestartEvent();
});

$Event(830, Restart, function() {
    if (!EventFlag(9830)) {
        flag &= !AnyBatchEventFlags(9800, 9803);
        flag2 &= AllBatchEventFlags(9800, 9800) && !AnyBatchEventFlags(9801, 9803);
        flag3 &= AllBatchEventFlags(9800, 9801) && !AnyBatchEventFlags(9802, 9803);
        flag4 &= AllBatchEventFlags(9800, 9802);
        GotoIf(L0, flag);
        GotoIf(L1, flag2);
        GotoIf(L2, flag3);
        GotoIf(L3, flag4);
    }
L10:
    flag &= !AnyBatchEventFlags(9800, 9803);
    flag2 &= AllBatchEventFlags(9800, 9800) && !AnyBatchEventFlags(9801, 9803);
    flag3 &= AllBatchEventFlags(9800, 9801) && !AnyBatchEventFlags(9802, 9803);
    flag4 &= AllBatchEventFlags(9800, 9802);
    GotoIf(L1, flag);
    GotoIf(L2, flag2);
    GotoIf(L3, flag3);
    GotoIf(L4, flag4);
L0:
    BatchSetEventFlags(9820, 9823, OFF);
    Goto(L20);
L1:
    BatchSetEventFlags(9820, 9820, ON);
    BatchSetEventFlags(9821, 9823, OFF);
    Goto(L20);
L2:
    BatchSetEventFlags(9820, 9821, ON);
    BatchSetEventFlags(9822, 9823, OFF);
    Goto(L20);
L3:
    BatchSetEventFlags(9820, 9822, ON);
    BatchSetEventFlags(9823, 9823, OFF);
    Goto(L20);
L4:
    BatchSetEventFlags(9820, 9823, ON);
    Goto(L20);
L20:
    WaitFor(
        EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9800)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9801)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9802)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9803)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 9830));
    RestartEvent();
});

$Event(831, Restart, function() {
    WaitFor(CharacterHasSpEffect(10000, 3730));
    SetEventFlag(9830, OFF);
    WaitFixedTimeFrames(60);
    DisplayBanner(TextBannerType.BurdenDispelled);
    RestartEvent();
});

$Event(835, Restart, function() {
    SetEventFlag(70001049, OFF);
    WaitFor(
        EventFlag(11115809) || EventFlag(11115859) || EventFlag(11115909) || EventFlag(11115929));
    SetEventFlag(70001049, ON);
    WaitFor(
        !EventFlag(11115809) && !EventFlag(11115859) && !EventFlag(11115909) && !EventFlag(11115929));
    RestartEvent();
});

$Event(901, Default, function() {
    if (!AnyBatchEventFlags(8405, 8408)) {
        WaitFor(EventFlag(9303) || EventFlag(9304) || EventFlag(9305) || EventFlag(9306));
        GotoIf(L1, EventFlag(9303));
        GotoIf(L2, EventFlag(9304));
        GotoIf(L3, EventFlag(9305));
        GotoIf(L4, EventFlag(9306));
L1:
        SetEventFlag(8405, ON);
        Goto(L20);
L2:
        SetEventFlag(8406, ON);
        Goto(L20);
L3:
        SetEventFlag(8407, ON);
        Goto(L20);
L4:
        SetEventFlag(8408, ON);
        Goto(L20);
    }
L20:
    EndEvent();
});

$Event(910, Default, function() {
    EndIf(EventFlag(8301));
    WaitFor(
        PlayerHasItem(ItemType.Goods, 2400)
            && PlayerHasItem(ItemType.Goods, 2500)
            && PlayerHasItem(ItemType.Goods, 2501));
    SetEventFlag(8301, ON);
    DisableBonfire(1111950);
    DisableBonfire(1111951);
    DisableBonfire(1111952);
    DisableBonfire(1111953);
    DisableBonfire(1111954);
    DisableBonfire(1111956);
    DisableBonfire(1111957);
    DisableBonfire(1121950);
    DisableBonfire(1121951);
    SetEventFlag(11110005, ON);
    SetPlayerRespawnPoint(1112955);
    SaveRequest(0);
    EndEvent();
});

$Event(911, Default, function() {
    EndIf(EventFlag(8302));
    WaitFor(EventFlag(9310));
    SetEventFlag(8302, ON);
    DisableBonfire(1111950);
    DisableBonfire(1111951);
    DisableBonfire(1111952);
    DisableBonfire(1111954);
    DisableBonfire(1111956);
    DisableBonfire(1111957);
    DisableBonfire(1101951);
    DisableBonfire(1101952);
    DisableBonfire(1101953);
    DisableBonfire(1101954);
    DisableBonfire(1101955);
    DisableBonfire(1101956);
    DisableBonfire(1121950);
    DisableBonfire(1121951);
    EndEvent();
});

$Event(912, Restart, function() {
    EndIf(EventFlag(8303));
    WaitFor(EventFlag(9304) && !EventFlag(9314));
    SetEventFlag(8303, ON);
});

$Event(920, Restart, function() {
    EndIf(EventFlag(8307));
    EndIf(!EventFlag(9314) || PlayerInMap(17, 0));
    EndIf(!PlayerHasItem(ItemType.Weapon, 79000) && !PlayerHasItem(ItemType.Weapon, 79100));
    SetEventFlag(8307, ON);
    DisableBonfire(1701956);
    EndEvent();
});

$Event(6010, Default, function() {
    EndIf(ThisEventSlot());
    WaitFor(PlayerHasItem(ItemType.Goods, 1200));
    WaitFixedTimeSeconds(0);
});

$Event(6225, Default, function(itemId) {
    EndIf(ThisEventSlot());
    WaitFor(PlayerHasItem(ItemType.Goods, itemId));
    WaitFixedTimeSeconds(0);
});

$Event(6500, Restart, function(itemId, eventFlagId) {
    EndIf(ThisEventSlot());
    WaitFor(PlayerHasItem(ItemType.Goods, itemId));
    SetEventFlag(eventFlagId, ON);
    EndEvent();
});

$Event(6704, Restart, function() {
    EndIf(EventFlag(6704));
    WaitFor(PlayerHasItem(ItemType.Weapon, 7300));
    SetEventFlag(6704, ON);
    EndEvent();
});

$Event(6930, Default, function() {
    EndIf(ThisEventSlot());
    if (EventFlag(1750)) {
        SetEventFlag(1750, OFF);
        if (!EventFlag(1740)) {
            if (!EventFlag(1741)) {
                SetEventFlag(1740, ON);
            }
        }
    }
    if (EventFlag(70003299)) {
        SetEventFlag(6104, ON);
    }
});

$Event(6935, Default, function() {
    EndIf(ThisEventSlot());
    SetEventFlag(9090, ON);
    SetEventFlag(9091, ON);
    SetEventFlag(9092, ON);
    SetEventFlag(9093, ON);
    SetEventFlag(9094, ON);
});

$Event(8410, Default, function(itemId) {
    EndIf(ThisEventSlot());
    WaitFor(PlayerHasItem(ItemType.Goods, itemId));
    WaitFixedTimeSeconds(0);
});

$Event(8990, Restart, function() {
    SetSpEffect(10000, 3999);
    WaitFor(InArea(10000, 2002805));
    ClearSpEffect(10000, 3999);
    WaitFor(!InArea(10000, 2002805));
    RestartEvent();
});

$Event(8995, Restart, function() {
    ActivateHit(2004300, Disabled);
    ActivateHit(2004301, Disabled);
    WaitFor(InArea(10000, 1702500));
    ActivateHit(2004300, Enabled);
    ActivateHit(2004301, Enabled);
    WaitFor(
        CharacterHasSpEffect(1700600, 3501015) || InArea(10000, 1702510) || InArea(10000, 1702511));
    RestartEvent();
});

$Event(9000, Default, function() {
    EndIf(EventFlag(71100411));
    StoreItemAmountHeldInEventValue(ItemType.Goods, 500, 71100415, 2);
    if (EventValue(71100415, 2) <= 1) {
        SetEventFlag(71100411, ON);
    }
    if (EventValue(71100415, 2) <= 2) {
        SetEventFlag(71100410, ON);
    }
});

$Event(9005, Default, function() {
    EndIf(ThisEventSlot());
    WaitFor(CharacterHasSpEffect(10000, 3060));
    SetEventFlag(71120147, ON);
});

$Event(9007, Default, function() {
    EndIf(ThisEventSlot());
    WaitFor(CharacterDead(1115710) || CharacterDead(1125710));
    SetEventFlag(71100509, ON);
});

$Event(9004, Restart, function() {
    WaitFor(
        !PlayerHasItem(ItemType.Goods, 3080)
            && !PlayerHasItem(ItemType.Goods, 3081)
            && !PlayerInMap(20, 0)
            && (EventFlag(72000367) || EventFlag(72000368)));
    SetEventFlag(72000367, OFF);
    SetEventFlag(72000368, OFF);
    RestartEvent();
});

$Event(9009, Default, function() {
    WaitFor(AnyBatchEventFlags(9020, 9035));
    SetEventFlag(9009, ON);
});

$Event(9050, Default, function() {
    flagItem = EventFlag(70002000) && !PlayerHasItem(ItemType.Goods, 9500);
    flagItem2 = !EventFlag(70002000) && PlayerHasItem(ItemType.Goods, 9500);
    flag = EventFlag(70002000) && EventFlag(1001);
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3500);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9500, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9500, 1);
    BatchSetEventFlags(70002000, 70002004, OFF);
    RestartEvent();
});

$Event(9051, Default, function() {
    flagItem = EventFlag(70002015) && !PlayerHasItem(ItemType.Goods, 9501);
    flagItem2 = !EventFlag(70002015) && PlayerHasItem(ItemType.Goods, 9501);
    flag = EventFlag(70002015)
        && (EventFlag(1201)
            || EventFlag(1202)
            || EventFlag(1203)
            || EventFlag(1219)
            || EventFlag(1239));
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3510);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9501, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9501, 1);
    BatchSetEventFlags(70002015, 70002019, OFF);
    RestartEvent();
});

$Event(9052, Default, function() {
    flagItem = EventFlag(70002045) && !PlayerHasItem(ItemType.Goods, 9502);
    flagItem2 = !EventFlag(70002045) && PlayerHasItem(ItemType.Goods, 9502);
    flag = EventFlag(70002045) && (EventFlag(1383) || EventFlag(1384) || EventFlag(1399));
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3520);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9502, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9502, 1);
    BatchSetEventFlags(70002045, 70002049, OFF);
    RestartEvent();
});

$Event(9053, Default, function() {
    flagItem = EventFlag(70002025) && !PlayerHasItem(ItemType.Goods, 9503);
    flagItem2 = !EventFlag(70002025) && PlayerHasItem(ItemType.Goods, 9503);
    flag = EventFlag(70002025) && (AnyBatchEventFlags(1442, 1446) || EventFlag(1459));
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3530);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9503, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9503, 1);
    BatchSetEventFlags(70002025, 70002029, OFF);
    RestartEvent();
});

$Event(9054, Default, function() {
    flagItem = EventFlag(70002030) && !PlayerHasItem(ItemType.Goods, 9504);
    flagItem2 = !EventFlag(70002030) && PlayerHasItem(ItemType.Goods, 9504);
    flag = EventFlag(70002030)
        && (EventFlag(1422) || AnyBatchEventFlags(1424, 1425) || EventFlag(1439) || EventFlag(1579));
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3540);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9504, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9504, 1);
    BatchSetEventFlags(70002030, 70002034, OFF);
    RestartEvent();
});

$Event(9055, Default, function() {
    flagItem = EventFlag(70002035) && !PlayerHasItem(ItemType.Goods, 9505);
    flagItem2 = !EventFlag(70002035) && PlayerHasItem(ItemType.Goods, 9505);
    flag = EventFlag(70002035) && (EventFlag(1466) || EventFlag(1469));
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3550);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9505, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9505, 1);
    BatchSetEventFlags(70002035, 70002039, OFF);
    RestartEvent();
});

$Event(9056, Default, function() {
    flagItem = EventFlag(70002010) && !PlayerHasItem(ItemType.Goods, 9510);
    flagItem2 = !EventFlag(70002010) && PlayerHasItem(ItemType.Goods, 9510);
    flag = EventFlag(70002010) && (AnyBatchEventFlags(1161, 1162) || EventFlag(1179) || EventFlag(1199));
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3600);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9510, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9510, 1);
    BatchSetEventFlags(70002010, 70002014, OFF);
    RestartEvent();
});

$Event(9057, Default, function() {
    flagItem = EventFlag(70002040) && !PlayerHasItem(ItemType.Goods, 9511);
    flagItem2 = !EventFlag(70002040) && PlayerHasItem(ItemType.Goods, 9511);
    flag = EventFlag(70002040) && (EventFlag(1581) || EventFlag(1599));
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3610);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9511, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9511, 1);
    BatchSetEventFlags(70002040, 70002044, OFF);
    RestartEvent();
});

$Event(9058, Default, function() {
    flagItem = EventFlag(70002005) && !PlayerHasItem(ItemType.Goods, 9515);
    flagItem2 = !EventFlag(70002005) && PlayerHasItem(ItemType.Goods, 9515);
    flag = EventFlag(70002005) && (AnyBatchEventFlags(1121, 1122) || EventFlag(1139) || EventFlag(1159));
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3650);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9515, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9515, 1);
    BatchSetEventFlags(70002005, 70002009, OFF);
    RestartEvent();
});

$Event(9059, Default, function() {
    flagItem = EventFlag(70002020) && !PlayerHasItem(ItemType.Goods, 9516);
    flagItem2 = !EventFlag(70002020) && PlayerHasItem(ItemType.Goods, 9516);
    flag = EventFlag(70002020) && (EventFlag(1363) || EventFlag(1379));
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3660);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9516, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9516, 1);
    BatchSetEventFlags(70002020, 70002024, OFF);
    RestartEvent();
});

$Event(9060, Default, function() {
    flagItem = EventFlag(70002050) && !PlayerHasItem(ItemType.Goods, 9520);
    flagItem2 = !EventFlag(70002050) && PlayerHasItem(ItemType.Goods, 9520);
    flag = EventFlag(70002050) && EventFlag(1819);
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3700);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9520, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9520, 1);
    BatchSetEventFlags(70002050, 70002054, OFF);
    RestartEvent();
});

$Event(9061, Default, function() {
    flagItem = EventFlag(70002055) && !PlayerHasItem(ItemType.Goods, 9521);
    flagItem2 = !EventFlag(70002055) && PlayerHasItem(ItemType.Goods, 9521);
    flag = EventFlag(70002055) && EventFlag(1839);
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3710);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9521, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9521, 1);
    BatchSetEventFlags(70002055, 70002059, OFF);
    RestartEvent();
});

$Event(9062, Default, function() {
    flagItem = EventFlag(70002060) && !PlayerHasItem(ItemType.Goods, 9522);
    flagItem2 = !EventFlag(70002060) && PlayerHasItem(ItemType.Goods, 9522);
    flag = EventFlag(70002060) && EventFlag(1859);
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3720);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9522, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9522, 1);
    BatchSetEventFlags(70002060, 70002064, OFF);
    RestartEvent();
});

$Event(9063, Default, function() {
    flagItem = EventFlag(70002065) && !PlayerHasItem(ItemType.Goods, 9523);
    flagItem2 = !EventFlag(70002065) && PlayerHasItem(ItemType.Goods, 9523);
    flag = EventFlag(70002065) && EventFlag(1879);
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3730);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9523, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9523, 1);
    BatchSetEventFlags(70002065, 70002069, OFF);
    RestartEvent();
});

$Event(9064, Default, function() {
    flagItem = EventFlag(70002070) && !PlayerHasItem(ItemType.Goods, 9524);
    flagItem2 = !EventFlag(70002070) && PlayerHasItem(ItemType.Goods, 9524);
    flag = EventFlag(70002070) && EventFlag(1899);
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3740);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9524, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9524, 1);
    BatchSetEventFlags(70002070, 70002074, OFF);
    RestartEvent();
});

$Event(9065, Default, function() {
    flagItem = EventFlag(70002075) && !PlayerHasItem(ItemType.Goods, 9525);
    flagItem2 = !EventFlag(70002075) && PlayerHasItem(ItemType.Goods, 9525);
    flag = EventFlag(70002075) && EventFlag(1919);
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3750);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9525, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9525, 1);
    BatchSetEventFlags(70002075, 70002079, OFF);
    RestartEvent();
});

$Event(9066, Default, function() {
    flagItem = EventFlag(70002080) && !PlayerHasItem(ItemType.Goods, 9526);
    flagItem2 = !EventFlag(70002080) && PlayerHasItem(ItemType.Goods, 9526);
    flag = EventFlag(70002080) && EventFlag(1939);
    WaitFor(flagItem || flagItem2 || flag);
    GotoIf(L0, flagItem2.Passed);
    GotoIf(L1, flag.Passed);
    WaitFixedTimeSeconds(1);
    AwardItemLot(3760);
    RestartEvent();
L0:
    RemoveItemFromPlayer(ItemType.Goods, 9526, 1);
    RestartEvent();
L1:
    RemoveItemFromPlayer(ItemType.Goods, 9526, 1);
    BatchSetEventFlags(70002080, 70002084, OFF);
    RestartEvent();
});

$Event(9600, Default, function(eventFlagId, eventFlagId2, areaId, blockId) {
    EndIf(EventFlag(eventFlagId2));
    SetEventFlag(eventFlagId, OFF);
    WaitFor(!PlayerInMap(areaId, blockId) || EventFlag(8258));
    SetEventFlag(eventFlagId, ON);
    WaitFor(!(!PlayerInMap(areaId, blockId) || EventFlag(8258)));
    RestartEvent();
});

$Event(9900, Default, function() {
    StoreItemAmountHeldInEventValue(ItemType.Goods, 1000, 9910, 8);
    StoreItemAmountHeldInEventValue(ItemType.Goods, 1001, 9920, 8);
    EventValueOperation(9910, 8, 0, 9920, 8, CalculationType.Add);
    WaitFixedTimeFrames(1);
    RestartEvent();
});

$Event(9930, Default, function(thresholdValue) {
    WaitFor(CharacterHasSpEffect(10000, 140300) && EventValue(9910, 8) >= thresholdValue);
    SetSpEffect(10000, 140310);
    WaitFor(!(CharacterHasSpEffect(10000, 140300) && EventValue(9910, 8) >= thresholdValue));
    ClearSpEffect(10000, 140310);
    RestartEvent();
});

$Event(9931, Default, function(thresholdValue) {
    WaitFor(CharacterHasSpEffect(10000, 140501) && EventValue(9910, 8) >= thresholdValue);
    SetSpEffect(10000, 140510);
    WaitFor(!(CharacterHasSpEffect(10000, 140501) && EventValue(9910, 8) >= thresholdValue));
    ClearSpEffect(10000, 140510);
    RestartEvent();
});

$Event(9932, Default, function(thresholdValue) {
    cond = CharacterHasSpEffect(10000, 140600) || CharacterHasSpEffect(10000, 140601);
    WaitFor(cond && EventValue(9910, 8) >= thresholdValue);
    SetSpEffect(10000, 140610);
    sp = CharacterHasSpEffect(10000, 140600) || CharacterHasSpEffect(10000, 140601);
    WaitFor(!(cond && EventValue(9910, 8) >= thresholdValue));
    ClearSpEffect(10000, 140610);
    RestartEvent();
});

$Event(9933, Default, function(thresholdValue) {
    WaitFor(CharacterHasSpEffect(10000, 100286) && EventValue(9910, 8) >= thresholdValue);
    SetSpEffect(10000, 140410);
    WaitFor(!(CharacterHasSpEffect(10000, 100286) && EventValue(9910, 8) >= thresholdValue));
    ClearSpEffect(10000, 140410);
    RestartEvent();
});

$Event(9934, Default, function(thresholdValue) {
    WaitFor(
        (CharacterHasSpEffect(10000, 140900) || CharacterHasSpEffect(10000, 140901))
            && EventValue(9910, 8) >= thresholdValue);
    SetSpEffect(10000, 140910);
    WaitFor(
        !((CharacterHasSpEffect(10000, 140900) || CharacterHasSpEffect(10000, 140901))
            && EventValue(9910, 8) >= thresholdValue));
    ClearSpEffect(10000, 140910);
    RestartEvent();
});

$Event(9940, Default, function() {
    SetSpEffect(10000, 106000);
    WaitFor(
        CharacterHasSpEffect(10000, 106020)
            || CharacterHasSpEffect(10000, 106025)
            || CharacterHasSpEffect(10000, 106030)
            || CharacterHasSpEffect(10000, 106035)
            || CharacterHasSpEffect(10000, 107730)
            || CharacterHasSpEffect(10000, 107731)
            || CharacterHasSpEffect(10000, 106040)
            || CharacterHasSpEffect(10000, 106050)
            || CharacterHasSpEffect(10000, 106060)
            || CharacterHasSpEffect(10000, 106070)
            || CharacterHasSpEffect(10000, 106080)
            || CharacterHasSpEffect(10000, 9490)
            || CharacterHasSpEffect(10000, 9491)
            || CharacterHasSpEffect(10000, 9492)
            || CharacterHasSpEffect(10000, 9493)
            || CharacterHasSpEffect(10000, 9494)
            || CharacterHasSpEffect(10000, 9495)
            || CharacterHasSpEffect(10000, 9496)
            || CharacterHasSpEffect(10000, 9497)
            || CharacterHasSpEffect(10000, 9498)
            || CharacterHasSpEffect(10000, 9499)
            || CharacterHasSpEffect(10000, 3451));
    ClearSpEffect(10000, 106000);
    WaitFor(
        !(CharacterHasSpEffect(10000, 106020)
            || CharacterHasSpEffect(10000, 106025)
            || CharacterHasSpEffect(10000, 106030)
            || CharacterHasSpEffect(10000, 106035)
            || CharacterHasSpEffect(10000, 107730)
            || CharacterHasSpEffect(10000, 107731)
            || CharacterHasSpEffect(10000, 106040)
            || CharacterHasSpEffect(10000, 106050)
            || CharacterHasSpEffect(10000, 106060)
            || CharacterHasSpEffect(10000, 106070)
            || CharacterHasSpEffect(10000, 106080)
            || CharacterHasSpEffect(10000, 9490)
            || CharacterHasSpEffect(10000, 9491)
            || CharacterHasSpEffect(10000, 9492)
            || CharacterHasSpEffect(10000, 9493)
            || CharacterHasSpEffect(10000, 9494)
            || CharacterHasSpEffect(10000, 9495)
            || CharacterHasSpEffect(10000, 9496)
            || CharacterHasSpEffect(10000, 9497)
            || CharacterHasSpEffect(10000, 9498)
            || CharacterHasSpEffect(10000, 9499)
            || CharacterHasSpEffect(10000, 3451)));
    RestartEvent();
});

$Event(9950, Default, function() {
    WaitFor(PlayerHasItem(ItemType.Goods, 930000));
    ClearSpEffect(10000, 150000);
    ClearSpEffect(10000, 150010);
    ClearSpEffect(10000, 150100);
    ClearSpEffect(10000, 150101);
    ClearSpEffect(10000, 150200);
    ClearSpEffect(10000, 150201);
    ClearSpEffect(10000, 150202);
    ClearSpEffect(10000, 150203);
    ClearSpEffect(10000, 150204);
    ClearSpEffect(10000, 150210);
    ClearSpEffect(10000, 150300);
    ClearSpEffect(10000, 150301);
    ClearSpEffect(10000, 150310);
    ClearSpEffect(10000, 150311);
    ClearSpEffect(10000, 150320);
    ClearSpEffect(10000, 150321);
    ClearSpEffect(10000, 150330);
    ClearSpEffect(10000, 150331);
    ClearSpEffect(10000, 150400);
    ClearSpEffect(10000, 150410);
    ClearSpEffect(10000, 150420);
    ClearSpEffect(10000, 150421);
    ClearSpEffect(10000, 150500);
    ClearSpEffect(10000, 150501);
    ClearSpEffect(10000, 150600);
    WaitFixedTimeSeconds(0.1);
    RemoveItemFromPlayer(ItemType.Goods, 930000, 1);
    RestartEvent();
});

$Event(9951, Default, function() {
    WaitFor(PlayerHasItem(ItemType.Goods, 930010));
    ClearSpEffect(10000, 150000);
    ClearSpEffect(10000, 150010);
    ClearSpEffect(10000, 150100);
    ClearSpEffect(10000, 150101);
    ClearSpEffect(10000, 150200);
    ClearSpEffect(10000, 150201);
    ClearSpEffect(10000, 150202);
    ClearSpEffect(10000, 150203);
    ClearSpEffect(10000, 150204);
    ClearSpEffect(10000, 150210);
    ClearSpEffect(10000, 150300);
    ClearSpEffect(10000, 150301);
    ClearSpEffect(10000, 150310);
    ClearSpEffect(10000, 150311);
    ClearSpEffect(10000, 150320);
    ClearSpEffect(10000, 150321);
    ClearSpEffect(10000, 150330);
    ClearSpEffect(10000, 150331);
    ClearSpEffect(10000, 150400);
    ClearSpEffect(10000, 150410);
    ClearSpEffect(10000, 150420);
    ClearSpEffect(10000, 150421);
    ClearSpEffect(10000, 150500);
    ClearSpEffect(10000, 150501);
    ClearSpEffect(10000, 150600);
    WaitFixedTimeSeconds(0.1);
    GrantSkill(600);
    RemoveItemFromPlayer(ItemType.Goods, 930010, 1);
    RestartEvent();
});

$Event(9952, Default, function() {
    WaitFor(PlayerHasItem(ItemType.Goods, 930020));
    ClearSpEffect(10000, 150000);
    ClearSpEffect(10000, 150010);
    ClearSpEffect(10000, 150100);
    ClearSpEffect(10000, 150101);
    ClearSpEffect(10000, 150200);
    ClearSpEffect(10000, 150201);
    ClearSpEffect(10000, 150202);
    ClearSpEffect(10000, 150203);
    ClearSpEffect(10000, 150204);
    ClearSpEffect(10000, 150210);
    ClearSpEffect(10000, 150300);
    ClearSpEffect(10000, 150301);
    ClearSpEffect(10000, 150310);
    ClearSpEffect(10000, 150311);
    ClearSpEffect(10000, 150320);
    ClearSpEffect(10000, 150321);
    ClearSpEffect(10000, 150330);
    ClearSpEffect(10000, 150331);
    ClearSpEffect(10000, 150400);
    ClearSpEffect(10000, 150410);
    ClearSpEffect(10000, 150420);
    ClearSpEffect(10000, 150421);
    ClearSpEffect(10000, 150500);
    ClearSpEffect(10000, 150501);
    ClearSpEffect(10000, 150600);
    WaitFixedTimeSeconds(0.1);
    GrantSkill(600);
    GrantSkill(75);
    GrantSkill(60);
    RemoveItemFromPlayer(ItemType.Goods, 930020, 1);
    RestartEvent();
});

$Event(9953, Default, function() {
    WaitFor(PlayerHasItem(ItemType.Goods, 930030));
    ClearSpEffect(10000, 150000);
    ClearSpEffect(10000, 150010);
    ClearSpEffect(10000, 150100);
    ClearSpEffect(10000, 150101);
    ClearSpEffect(10000, 150200);
    ClearSpEffect(10000, 150201);
    ClearSpEffect(10000, 150202);
    ClearSpEffect(10000, 150203);
    ClearSpEffect(10000, 150204);
    ClearSpEffect(10000, 150210);
    ClearSpEffect(10000, 150300);
    ClearSpEffect(10000, 150301);
    ClearSpEffect(10000, 150310);
    ClearSpEffect(10000, 150311);
    ClearSpEffect(10000, 150320);
    ClearSpEffect(10000, 150321);
    ClearSpEffect(10000, 150330);
    ClearSpEffect(10000, 150331);
    ClearSpEffect(10000, 150400);
    ClearSpEffect(10000, 150410);
    ClearSpEffect(10000, 150420);
    ClearSpEffect(10000, 150421);
    ClearSpEffect(10000, 150500);
    ClearSpEffect(10000, 150501);
    ClearSpEffect(10000, 150600);
    WaitFixedTimeSeconds(0.1);
    GrantSkill(600);
    GrantSkill(75);
    GrantSkill(60);
    GrantSkill(602);
    GrantSkill(80);
    GrantSkill(76);
    GrantSkill(70);
    GrantSkill(61);
    GrantSkill(170);
    RemoveItemFromPlayer(ItemType.Goods, 930030, 1);
    RestartEvent();
});

$Event(9956, Default, function() {
    WaitFor(PlayerHasItem(ItemType.Goods, 930060));
    ClearSpEffect(10000, 150000);
    ClearSpEffect(10000, 150010);
    ClearSpEffect(10000, 150100);
    ClearSpEffect(10000, 150101);
    ClearSpEffect(10000, 150200);
    ClearSpEffect(10000, 150201);
    ClearSpEffect(10000, 150202);
    ClearSpEffect(10000, 150203);
    ClearSpEffect(10000, 150204);
    ClearSpEffect(10000, 150210);
    ClearSpEffect(10000, 150300);
    ClearSpEffect(10000, 150301);
    ClearSpEffect(10000, 150310);
    ClearSpEffect(10000, 150311);
    ClearSpEffect(10000, 150320);
    ClearSpEffect(10000, 150321);
    ClearSpEffect(10000, 150330);
    ClearSpEffect(10000, 150331);
    ClearSpEffect(10000, 150400);
    ClearSpEffect(10000, 150410);
    ClearSpEffect(10000, 150420);
    ClearSpEffect(10000, 150421);
    ClearSpEffect(10000, 150500);
    ClearSpEffect(10000, 150501);
    ClearSpEffect(10000, 150600);
    WaitFixedTimeSeconds(0.1);
    GrantSkill(600);
    GrantSkill(75);
    GrantSkill(60);
    GrantSkill(602);
    GrantSkill(80);
    GrantSkill(76);
    GrantSkill(70);
    GrantSkill(61);
    GrantSkill(170);
    GrantSkill(605);
    GrantSkill(175);
    GrantSkill(176);
    GrantSkill(171);
    GrantSkill(270);
    GrantSkill(275);
    RemoveItemFromPlayer(ItemType.Goods, 930060, 1);
    RestartEvent();
});

$Event(9957, Default, function() {
    WaitFor(PlayerHasItem(ItemType.Goods, 930070));
    ClearSpEffect(10000, 150000);
    ClearSpEffect(10000, 150010);
    ClearSpEffect(10000, 150100);
    ClearSpEffect(10000, 150101);
    ClearSpEffect(10000, 150200);
    ClearSpEffect(10000, 150201);
    ClearSpEffect(10000, 150202);
    ClearSpEffect(10000, 150203);
    ClearSpEffect(10000, 150204);
    ClearSpEffect(10000, 150210);
    ClearSpEffect(10000, 150300);
    ClearSpEffect(10000, 150301);
    ClearSpEffect(10000, 150310);
    ClearSpEffect(10000, 150311);
    ClearSpEffect(10000, 150320);
    ClearSpEffect(10000, 150321);
    ClearSpEffect(10000, 150330);
    ClearSpEffect(10000, 150331);
    ClearSpEffect(10000, 150400);
    ClearSpEffect(10000, 150410);
    ClearSpEffect(10000, 150420);
    ClearSpEffect(10000, 150421);
    ClearSpEffect(10000, 150500);
    ClearSpEffect(10000, 150501);
    ClearSpEffect(10000, 150600);
    WaitFixedTimeSeconds(0.1);
    GrantSkill(600);
    GrantSkill(75);
    GrantSkill(60);
    GrantSkill(602);
    GrantSkill(80);
    GrantSkill(76);
    GrantSkill(70);
    GrantSkill(61);
    GrantSkill(170);
    GrantSkill(605);
    GrantSkill(175);
    GrantSkill(176);
    GrantSkill(171);
    GrantSkill(270);
    GrantSkill(275);
    GrantSkill(265);
    GrantSkill(280);
    GrantSkill(365);
    RemoveItemFromPlayer(ItemType.Goods, 930070, 1);
    RestartEvent();
});

$Event(9958, Default, function() {
    WaitFor(PlayerHasItem(ItemType.Goods, 930080));
    ClearSpEffect(10000, 150000);
    ClearSpEffect(10000, 150010);
    ClearSpEffect(10000, 150100);
    ClearSpEffect(10000, 150101);
    ClearSpEffect(10000, 150200);
    ClearSpEffect(10000, 150201);
    ClearSpEffect(10000, 150202);
    ClearSpEffect(10000, 150203);
    ClearSpEffect(10000, 150204);
    ClearSpEffect(10000, 150210);
    ClearSpEffect(10000, 150300);
    ClearSpEffect(10000, 150301);
    ClearSpEffect(10000, 150310);
    ClearSpEffect(10000, 150311);
    ClearSpEffect(10000, 150320);
    ClearSpEffect(10000, 150321);
    ClearSpEffect(10000, 150330);
    ClearSpEffect(10000, 150331);
    ClearSpEffect(10000, 150400);
    ClearSpEffect(10000, 150410);
    ClearSpEffect(10000, 150420);
    ClearSpEffect(10000, 150421);
    ClearSpEffect(10000, 150500);
    ClearSpEffect(10000, 150501);
    ClearSpEffect(10000, 150600);
    WaitFixedTimeSeconds(0.1);
    GrantSkill(600);
    GrantSkill(75);
    GrantSkill(60);
    GrantSkill(602);
    GrantSkill(80);
    GrantSkill(76);
    GrantSkill(70);
    GrantSkill(61);
    GrantSkill(170);
    GrantSkill(605);
    GrantSkill(175);
    GrantSkill(176);
    GrantSkill(171);
    GrantSkill(270);
    GrantSkill(275);
    GrantSkill(265);
    GrantSkill(280);
    GrantSkill(365);
    GrantSkill(366);
    GrantSkill(370);
    RemoveItemFromPlayer(ItemType.Goods, 930080, 1);
    RestartEvent();
});

$Event(9959, Default, function() {
    WaitFor(PlayerHasItem(ItemType.Goods, 930090));
    ClearSpEffect(10000, 150000);
    ClearSpEffect(10000, 150010);
    ClearSpEffect(10000, 150100);
    ClearSpEffect(10000, 150101);
    ClearSpEffect(10000, 150200);
    ClearSpEffect(10000, 150201);
    ClearSpEffect(10000, 150202);
    ClearSpEffect(10000, 150203);
    ClearSpEffect(10000, 150204);
    ClearSpEffect(10000, 150210);
    ClearSpEffect(10000, 150300);
    ClearSpEffect(10000, 150301);
    ClearSpEffect(10000, 150310);
    ClearSpEffect(10000, 150311);
    ClearSpEffect(10000, 150320);
    ClearSpEffect(10000, 150321);
    ClearSpEffect(10000, 150330);
    ClearSpEffect(10000, 150331);
    ClearSpEffect(10000, 150400);
    ClearSpEffect(10000, 150410);
    ClearSpEffect(10000, 150420);
    ClearSpEffect(10000, 150421);
    ClearSpEffect(10000, 150500);
    ClearSpEffect(10000, 150501);
    ClearSpEffect(10000, 150600);
    WaitFixedTimeSeconds(0.1);
    GrantSkill(600);
    GrantSkill(75);
    GrantSkill(60);
    GrantSkill(602);
    GrantSkill(80);
    GrantSkill(76);
    GrantSkill(70);
    GrantSkill(61);
    GrantSkill(170);
    GrantSkill(605);
    GrantSkill(175);
    GrantSkill(176);
    GrantSkill(171);
    GrantSkill(270);
    GrantSkill(275);
    GrantSkill(265);
    GrantSkill(280);
    GrantSkill(365);
    GrantSkill(366);
    GrantSkill(370);
    GrantSkill(604);
    RemoveItemFromPlayer(ItemType.Goods, 930090, 1);
    RestartEvent();
});

$Event(9960, Default, function() {
    WaitFor(PlayerHasItem(ItemType.Goods, 930100));
    ClearSpEffect(10000, 150000);
    ClearSpEffect(10000, 150010);
    ClearSpEffect(10000, 150100);
    ClearSpEffect(10000, 150101);
    ClearSpEffect(10000, 150200);
    ClearSpEffect(10000, 150201);
    ClearSpEffect(10000, 150202);
    ClearSpEffect(10000, 150203);
    ClearSpEffect(10000, 150204);
    ClearSpEffect(10000, 150210);
    ClearSpEffect(10000, 150300);
    ClearSpEffect(10000, 150301);
    ClearSpEffect(10000, 150310);
    ClearSpEffect(10000, 150311);
    ClearSpEffect(10000, 150320);
    ClearSpEffect(10000, 150321);
    ClearSpEffect(10000, 150330);
    ClearSpEffect(10000, 150331);
    ClearSpEffect(10000, 150400);
    ClearSpEffect(10000, 150410);
    ClearSpEffect(10000, 150420);
    ClearSpEffect(10000, 150421);
    ClearSpEffect(10000, 150500);
    ClearSpEffect(10000, 150501);
    ClearSpEffect(10000, 150600);
    WaitFixedTimeSeconds(0.1);
    GrantSkill(600);
    GrantSkill(75);
    GrantSkill(60);
    GrantSkill(602);
    GrantSkill(80);
    GrantSkill(76);
    GrantSkill(70);
    GrantSkill(61);
    GrantSkill(170);
    GrantSkill(605);
    GrantSkill(175);
    GrantSkill(176);
    GrantSkill(171);
    GrantSkill(270);
    GrantSkill(275);
    GrantSkill(265);
    GrantSkill(280);
    GrantSkill(365);
    GrantSkill(366);
    GrantSkill(370);
    GrantSkill(604);
    GrantSkill(601);
    RemoveItemFromPlayer(ItemType.Goods, 930100, 1);
    RestartEvent();
});

$Event(9961, Default, function() {
    WaitFor(PlayerHasItem(ItemType.Goods, 930110));
    ClearSpEffect(10000, 150000);
    ClearSpEffect(10000, 150010);
    ClearSpEffect(10000, 150100);
    ClearSpEffect(10000, 150101);
    ClearSpEffect(10000, 150200);
    ClearSpEffect(10000, 150201);
    ClearSpEffect(10000, 150202);
    ClearSpEffect(10000, 150203);
    ClearSpEffect(10000, 150204);
    ClearSpEffect(10000, 150210);
    ClearSpEffect(10000, 150300);
    ClearSpEffect(10000, 150301);
    ClearSpEffect(10000, 150310);
    ClearSpEffect(10000, 150311);
    ClearSpEffect(10000, 150320);
    ClearSpEffect(10000, 150321);
    ClearSpEffect(10000, 150330);
    ClearSpEffect(10000, 150331);
    ClearSpEffect(10000, 150400);
    ClearSpEffect(10000, 150410);
    ClearSpEffect(10000, 150420);
    ClearSpEffect(10000, 150421);
    ClearSpEffect(10000, 150500);
    ClearSpEffect(10000, 150501);
    ClearSpEffect(10000, 150600);
    WaitFixedTimeSeconds(0.1);
    GrantSkill(600);
    GrantSkill(75);
    GrantSkill(60);
    GrantSkill(602);
    GrantSkill(80);
    GrantSkill(76);
    GrantSkill(70);
    GrantSkill(61);
    GrantSkill(170);
    GrantSkill(605);
    GrantSkill(175);
    GrantSkill(176);
    GrantSkill(171);
    GrantSkill(270);
    GrantSkill(275);
    GrantSkill(265);
    GrantSkill(280);
    GrantSkill(365);
    GrantSkill(366);
    GrantSkill(370);
    GrantSkill(604);
    GrantSkill(601);
    GrantSkill(603);
    RemoveItemFromPlayer(ItemType.Goods, 930110, 1);
    RestartEvent();
});

$Event(9990, Default, function() {
    WaitFor(CharacterHasSpEffect(10000, 127022) && PlayerSen() == 0);
    SetSpEffect(10000, 127060);
    WaitFor(!(CharacterHasSpEffect(10000, 127022) && PlayerSen() == 0));
    ClearSpEffect(10000, 127060);
    RestartEvent();
});

$Event(9991, Default, function() {
    WaitFor(CharacterHasSpEffect(10000, 127022) && PlayerSen() >= 1 && PlayerSen() <= 249);
    SetSpEffect(10000, 127061);
    WaitFor(!(CharacterHasSpEffect(10000, 127022) && PlayerSen() >= 1 && PlayerSen() <= 249));
    ClearSpEffect(10000, 127061);
    RestartEvent();
});

$Event(9992, Default, function() {
    WaitFor(CharacterHasSpEffect(10000, 127022) && PlayerSen() >= 250 && PlayerSen() <= 499);
    SetSpEffect(10000, 127062);
    WaitFor(!(CharacterHasSpEffect(10000, 127022) && PlayerSen() >= 250 && PlayerSen() <= 499));
    ClearSpEffect(10000, 127062);
    RestartEvent();
});

$Event(9993, Default, function() {
    WaitFor(CharacterHasSpEffect(10000, 127022) && PlayerSen() >= 500);
    SetSpEffect(10000, 127063);
    WaitFor(!(CharacterHasSpEffect(10000, 127022) && PlayerSen() >= 500));
    ClearSpEffect(10000, 127063);
    RestartEvent();
});

$Event(9999, Default, function() {
    WaitFor(CharacterHasSpEffect(10000, 107640) && ActionBit(21));
    SetSpEffect(10000, 107600);
    SetSpEffect(10000, 107601);
    SetSpEffect(10000, 107602);
    SetSpEffect(10000, 107603);
    sp = CharacterHasSpEffect(10000, 107640);
    cond = ActionBit(21);
    WaitFor(!sp);
    ClearSpEffect(10000, 107600);
    ClearSpEffect(10000, 107601);
    ClearSpEffect(10000, 107602);
    ClearSpEffect(10000, 107603);
    SetSpEffect(10000, 107615);
    RestartEvent();
});
